<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">

<html>

<head>
<title>postTSet</title>
<meta http-equiv="content-type" content="text/html; charset=windows-1252">
<meta name="generator" content="RoboHelp by eHelp Corporation www.ehelp.com">
<link rel="stylesheet" href="../reports_ns.css"><script type="text/javascript" language="JavaScript" title="WebHelpSplitCss">
<!--
if (navigator.appName !="Netscape")
{   document.write("<link rel='stylesheet' href='../reports.css'>");}
//-->
</script>
<script LANGUAGE="JavaScript" TITLE="BSSC Special Effects" src="../ehlpdhtm.js" name="EHELP_DHTM"></script>

<style type="text/css">
<!--
p.whs1 { margin-left:24px; }
table.whs2 { width:552px; margin-left:18pt; border-spacing:0px; }
tr.whs3 { x-cell-content-align:top; }
td.whs4 { width:120px; padding-left:1px; padding-top:1px; padding-right:1px; padding-bottom:1px; }
td.whs5 { width:432px; padding-left:1px; padding-top:1px; padding-right:1px; padding-bottom:1px; }
p.whs6 { margin-left:60px; }
p.whs7 { margin-left:24px; x-condition:NotPrintedDocn; }
-->
</style><script type="text/javascript" language="JavaScript" title="WebHelpInlineScript">
<!--
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
	origWidth = innerWidth;
	origHeight = innerHeight;
	onresize = reDo;
}
onerror = null; 
//-->
</script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute; left:0px; top:0px; z-index:4; visibility:hidden; }
-->
</style><script type="text/javascript" language="javascript1.2" src="../whmsg.js"></script>
<script type="text/javascript" language="javascript" src="../whver.js"></script>
<script type="text/javascript" language="javascript1.2" src="../whproxy.js"></script>
<script type="text/javascript" language="javascript1.2" src="../whutils.js"></script>
<script type="text/javascript" language="javascript1.2" src="../whtopic.js"></script>
</head>
<body><script type="text/javascript" language="javascript1.2">
<!--
if (window.gbWhTopic)
{
	if (window.addTocInfo)
	{
	addTocInfo("PSL Classes, Properties, and Methods\nTranSet Class\nMethods\npostTSet");
addButton("show",BTN_TEXT,"Show","","","","",0,0,"","","");

	}
	if (window.writeBtnStyle)
		writeBtnStyle();

	if (window.writeIntopicBar)
		writeIntopicBar(1);

	if (window.setRelStartPage)
	{
	setRelStartPage("../pslprogramming_guide.htm");

		autoSync(1);
		sendSyncInfo();
		sendAveInfoOut();
	}
}
else
	if (window.gbIE4)
		document.location.reload();
//-->
</script>
<h1>postTSet Method</h1>

<p class=BodyTextBold>Class: <span style="font-weight: normal;">TranSet</span></p>

<p class=BodyTextBold>Description</p>

<p class="whs1">After you copy all transaction records to 
 the transaction set using the <a href="psl_transet_copytran.htm">TranSet.copyTran</a> 
 method, you can post the transactions into a TR&nbsp;array using the TranSet.postTSet 
 method. All transaction record objects and all corresponding accounts 
 will be updated as a result of this posting.</p>

<p class="whs1">In addition to building the TR array, this 
 method builds the A and %A arrays for each deposit and loan object (i.e.,&nbsp;account 
 numbers in those objects). After posting completes, this method copies 
 the information in the TR array back to the transaction object for each 
 transaction.</p>

<p class="whs1">If posting transactions from a batch source 
 (i.e.,&nbsp;a source defined in the Source user table), you must include 
 a call to the BCHSOURCE procedure to initialize the batch posting source. 
 An example of a call to this utility follows:</p>

<p class=Code
	style="margin-left: 36.00pt;">do SOURCE^BCHSOURC(SRCTYP,KEY,UID,BRCD,UCLS,TSDRCID,TSCRCID,ODP)</p>

<p class="whs1">This call returns the user ID, branch, userclass, 
 and overdraft processing options for the batch posting source. In addition, 
 this procedure returns the rejection handling method, same day retry processing 
 option, maximum number of retries, and valid reasons for retry.</p>

<p class=BodyTextBold>Syntax</p>

<p class=Code>transactionObject.postTSet(processingDate,branchCode,qualifier,</p>

<p class=Code>tranArray)</p>

<p class=BodyTextBold>Parameters</p>

<table x-use-null-cells cellspacing="0" width="552" class="whs2">

<tr valign="top" class="whs3">
<td width="120px" class="whs4">
<p>processingDate</td>
<td width="432px" class="whs5">
<p>The date on which to post the transaction.</td></tr>

<tr valign="top" class="whs3">
<td width="120px" class="whs4">
<p>branchCode</td>
<td width="432px" class="whs5">
<p>A number identifying the branch at which the transaction was posted.</td></tr>

<tr valign="top" class="whs3">
<td width="120px" class="whs4">
<p>qualifier</td>
<td width="432px" class="whs5">
<p>One or more qualifiers that identify and handle transaction processing. 
 Valid qualifiers include:</p>
<ul>
	
	<li style="font-size: 10pt;"
		class=kadov-p-CBullet1><p class=Bullet1>IPMODE Input mode (required)</p></li>
</ul>
<p class=BodyIndent
	style="margin-left: 60px;">0 = Batch</p>
<p class=BodyIndent
	style="margin-left: 60px;">1 = Online</p>
<p class=BodyIndent
	style="margin-left: 60px;">2 = Store and forward</p>
<p class=BodyIndent
	style="margin-left: 60px;">3 = System-generated</p>
<p class=BodyIndent
	style="margin-left: 60px;">4 = Transaction array (TR)</p>
<ul>
	
	<li style="font-size: 10pt;"
		class=kadov-p-CBullet1><p class=Bullet1>OPTION Processing option 
 (required)</p></li>
</ul>
<p class=BodyIndent
	style="margin-left: 60px;">0 = Process transactions, no database update</p>
<p class=BodyIndent
	style="margin-left: 60px;">1 = Do not process transactions, update 
 database</p>
<p class=BodyIndent
	style="margin-left: 60px;">2 = Process transactions, update database</p>
<ul>
	
	<li style="font-size: 10pt;"
		class=kadov-p-CBullet1><p class=Bullet1>UPDTTX Update teller file 
 (optional)</p></li>
</ul>
<p class=BodyIndent
	style="margin-left: 60px;">0 = No</p>
<p class=BodyIndent
	style="margin-left: 60px;">1 = Yes</p>
<ul>
	
	<li style="font-size: 10pt;"
		class=kadov-p-CBullet1><p class=Bullet1>EXCHNG Currency exchange 
 (optional)</p></li>
</ul>
<p class=BodyIndent
	style="margin-left: 60px;">0 = No</p>
<p class=BodyIndent
	style="margin-left: 60px;">1 = Yes</p>
<ul>
	
	<li style="font-size: 10pt;"
		class=kadov-p-CBullet1><p class=Bullet1>SEQNUM Transaction sequence 
 number (optional)</p></li>
</ul>
<p class="whs6">Transaction sequence number in TR array to 
 process<span style="margin-left: 60px;"><br>
&nbsp;</span></td></tr>

<tr valign="top" class="whs3">
<td width="120px" class="whs4">
<p>tranArray</td>
<td width="432px" class="whs5">
<p>Array passed back to the calling program after posting. It contains 
 all the transactions that were processed, including system-generated transactions. 
 The returned array is not an object. The data in the array conforms to 
 the piece assignments of the schema.</td></tr>
</table>

<p class=BodyTextBold>Returns</p>

<p class=BodyIndent>A String.</p>

<p class=BodyTextBold
	style="x-condition: NotPrintedDocn;">When Became Available</p>

<p class="whs7">Profile v6.0</p>

<p class=Example>Example</p>

<p class=Code>type RecordTTX ttx=Class.new(“RecordTTX”) </p>

<p class=Code>// ttx can be a variable or an array</p>

<p class=Code>type TranSet ts=Class.new(“TranSet”)</p>

<p class=Code>&nbsp;</p>

<p class=Code>set ttx.cid=CID</p>

<p class=Code>set ttx.itc=ITC</p>

<p class=Code>set ttx.etc=ETC</p>

<p class=Code>set ttx.tamt=TAMT</p>

<p class=Code>set ttx.efd=%SystemDate</p>

<p class=Code>set ttx.tlo=%UserStation</p>

<p class=Code>set ttx.tcmt=TCMT</p>

<p class=Code>set ttx.cc=CC</p>

<p class=Code>if %MCP set ttx.crcd=CRCD</p>

<p class=Code>&nbsp;</p>

<p class=Code>set ttx1=ts.copyTran(ttx)</p>

<p class=Code>&nbsp;</p>

<p class=Code>set par(“OPTION”)=2 // Process transactions, update database</p>

<p class=Code>set par(“IPMODE”)=3 // System-generated</p>

<p class=Code>&nbsp;</p>

<p class=Code>do <span style="font-weight: bold;"><B>ts.postTSet(TJD,BRCD,.par)</B></span></p>

<p class=Code>&nbsp;</p>

<p class=Code>*The variables in this example would need to be defined prior 
 to their use.</p>

<script type="text/javascript" language="javascript1.2">
<!--
if (window.writeIntopicBar)
	writeIntopicBar(0);
//-->
</script>
</body>
</html>
