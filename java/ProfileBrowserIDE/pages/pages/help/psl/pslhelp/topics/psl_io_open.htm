<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">

<html>

<head>
<title>open</title>
<meta http-equiv="content-type" content="text/html; charset=windows-1252">
<meta name="generator" content="RoboHelp by eHelp Corporation www.ehelp.com">
<link rel="stylesheet" href="../reports_ns.css"><script type="text/javascript" language="JavaScript" title="WebHelpSplitCss">
<!--
if (navigator.appName !="Netscape")
{   document.write("<link rel='stylesheet' href='../reports.css'>");}
//-->
</script>
<script LANGUAGE="JavaScript" TITLE="BSSC Special Effects" src="../ehlpdhtm.js" name="EHELP_DHTM"></script>

<style type="text/css">
<!--
table.whs1 { width:552px; margin-left:18pt; border-spacing:0px; }
tr.whs2 { x-cell-content-align:top; }
td.whs3 { width:120px; padding-left:1px; padding-top:1px; padding-right:1px; padding-bottom:1px; }
td.whs4 { width:432px; padding-left:1px; padding-top:1px; padding-right:1px; padding-bottom:1px; }
p.whs5 { text-align:justify; }
table.whs6 { width:546px; margin-left:18pt; border-spacing:0px; }
col.whs7 { width:151px; }
col.whs8 { width:387px; }
td.whs9 { width:151px; padding-left:1px; padding-top:1px; padding-right:1px; padding-bottom:1px; }
p.whs10 { font-weight:bold; }
td.whs11 { width:387px; padding-left:1px; padding-top:1px; padding-right:1px; padding-bottom:1px; }
p.whs12 { margin-left:24px; x-condition:NotPrintedDocn; }
-->
</style><script type="text/javascript" language="JavaScript" title="WebHelpInlineScript">
<!--
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
	origWidth = innerWidth;
	origHeight = innerHeight;
	onresize = reDo;
}
onerror = null; 
//-->
</script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute; left:0px; top:0px; z-index:4; visibility:hidden; }
-->
</style><script type="text/javascript" language="javascript1.2" src="../whmsg.js"></script>
<script type="text/javascript" language="javascript" src="../whver.js"></script>
<script type="text/javascript" language="javascript1.2" src="../whproxy.js"></script>
<script type="text/javascript" language="javascript1.2" src="../whutils.js"></script>
<script type="text/javascript" language="javascript1.2" src="../whtopic.js"></script>
</head>
<body><script type="text/javascript" language="javascript1.2">
<!--
if (window.gbWhTopic)
{
	if (window.addTocInfo)
	{
	addTocInfo("PSL Classes, Properties, and Methods\nIO Class\nMethods\nopen");
addButton("show",BTN_TEXT,"Show","","","","",0,0,"","","");

	}
	if (window.writeBtnStyle)
		writeBtnStyle();

	if (window.writeIntopicBar)
		writeIntopicBar(1);

	if (window.setRelStartPage)
	{
	setRelStartPage("../pslprogramming_guide.htm");

		autoSync(1);
		sendSyncInfo();
		sendAveInfoOut();
	}
}
else
	if (window.gbIE4)
		document.location.reload();
//-->
</script>
<h1>open Method</h1>

<p class=BodyTextBold
	style="x-condition: NotPrintedDocn;">Class: <span style="font-weight: normal;">IO</span></p>

<p class=BodyTextBold
	style="x-condition: NotPrintedDocn;">Description</p>

<p class=BodyIndent
	style="text-align: justify;">This method opens a device based on the 
 <a href="psl_io_filename.htm">fileName</a> and <a href="psl_io_directory.htm">directory</a> 
 IO class properties. If you do not define the directory property, the 
 device defaults to the file name stored in the spool directory. </p>

<p class=BodyIndent>&nbsp;</p>

<p class=BodyIndent
	style="text-align: justify;">If the <a href="psl_io_timeout.htm">timeout</a> 
 property is the empty string, the open method waits until it succeeds. 
 Otherwise, it waits until it succeeds or until the timeout expires, whichever 
 comes first. If the timeout expires, an exception is thrown.</p>

<p class=BodyIndent>&nbsp;</p>

<p class=BodyIndent
	style="text-align: justify;">The values of the <a href="psl_io_openparams.htm">openParams</a> 
 and <a href="psl_io_recordsize.htm">recordSize</a> properties is used 
 as assigned by the program. Improper values causes a %PSL-E-IOOPEN exception.</p>

<p class=BodyIndent>&nbsp;</p>

<p class=BodyIndent
	style="text-align: justify;">The open method sets the input character 
 set and output character set based on the values of the <a href="psl_io_charsetname.htm">charsetName</a>, 
 <a href="psl_io_charsetelemname.htm">charsetElemName</a>, and <a href="psl_io_charsetelemtype.htm">charsetElemType</a> 
 properties, and the context in which the open occurs. The following algorithm 
 is used:</p>

<ul>
	
	<li class=kadov-p-CBullet1><p class=Bullet1
									style="text-align: justify;">If the 
 charsetName property contains the empty string, then open calls the function 
 $$^UCIOENCD() with the values of the properties charsetElemName and charSetElemType, 
 the name of the subroutine in which the open occurs, and the name of the 
 IO instance variable.</p></li>
	
	<li class=kadov-p-CBullet1><p class=Bullet1
									style="text-align: justify;">If charsetElemType 
 contains the empty string, then charsetElemType = &quot;Routine&quot;, 
 and charsetElemName = <span style="white-space: nowrap;">%RoutineName</span> 
 is used.</p></li>
	
	<li class=kadov-p-CBullet1><p class=Bullet1
									style="text-align: justify;">The value 
 returned by the function (that might be empty) is stored in the charsetName 
 property.</p></li>
	
	<li class=kadov-p-CBullet1><p class=Bullet1
									style="text-align: justify;">The value 
 stored in the charsetName property is used if (still) empty, then no character 
 set translation will be in effect.</p></li>
</ul>

<p class=BodyTextBold>Syntax</p>

<p class=Code>do objectName.open()</p>

<p class=BodyTextBold>Parameters</p>

<table x-use-null-cells cellspacing="0" width="552" class="whs1">

<tr valign="top" class="whs2">
<td width="120px" class="whs3">
<p>None</td>
<td width="432px" class="whs4">
<p class="whs5">However, the fileName and openParams IO 
 class properties must be defined prior to using this method.</td></tr>
</table>

<p class=BodyTextBold>Returns</p>

<p class=BodyIndent>None</p>

<p class=BodyTextBold>Throws</p>

<table x-use-null-cells cellspacing="0" width="546" class="whs6">
<col class="whs7">
<col class="whs8">

<tr valign="top" class="whs2">
<td colspan="1" rowspan="1" width="151px" class="whs9">
<p class="whs10">Error</td>
<td colspan="1" rowspan="1" width="387px" class="whs11">
<p class="whs10">Cause</td></tr>

<tr valign="top" class="whs2">
<td width="151px" class="whs9">
<p>%PSL-E-IOOPEN</td>
<td width="387px" class="whs11">
<p>The open failed.</td></tr>
</table>

<p class=BodyTextBold
	style="x-condition: NotPrintedDocn;">When Became Available</p>

<p class="whs12">v6.4</p>

<p class=Example>Example</p>

<p class=Code
	style="font-weight: normal;">type IO io = Class.new(“IO”)</p>

<p class=Code
	style="font-weight: normal;">set io.directory = ”/unix_directory/spool”</p>

<p class=Code
	style="font-weight: normal;">set io.fileName = ”TEST.txt”</p>

<p class=Code
	style="font-weight: normal;">set io.openParams = ”NEWV/WRITE”</p>

<p class=Code
	style="font-weight: normal;">set io.timeout = 5</p>

<p class=Code
	style="font-weight: normal;">catch ioxcpt {</p>

<p class=Code
	style="font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// 
 if not an IO exception, it's not for us</p>

<p class=Code
	style="font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if 
 ioxcpt'[&quot;%PSL-E-IO&quot; throw ioxcpt</p>

<p class=Code
	style="font-weight: normal;">&nbsp;</p>

<p class=Code
	style="font-weight: normal;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write 
 &quot;Open failed: &quot;, ioxcpt.type, !</p>

<p class=Code
	style="font-weight: normal;">}</p>

<p class=Code
	style="font-weight: normal;">do <span style="font-weight: bold;"><B>io.open()</B></span></p>

<p class=Code
	style="font-weight: normal;">type String TEXT</p>

<p class=Code
	style="font-weight: normal;">set TEXT = ”This is a file created using 
 IO class methods.”</p>

<p class=Code
	style="font-weight: normal;">do io.write(TEXT)</p>

<p class=Code
	style="font-weight: normal;">do io.close()</p>

<p class=Code
	style="font-weight: normal;">&nbsp;</p>

<p class=Code
	style="font-weight: normal;">* The value of the directory property 
 must be a valid directory path.</p>

<script type="text/javascript" language="javascript1.2">
<!--
if (window.writeIntopicBar)
	writeIntopicBar(0);
//-->
</script>
</body>
</html>
