MRPC045(return,versn,odt,iacm,icompfre,tranfre,tranamt,presval,futval,irn,trm,busopt,nbdc,type)
	/*
	   ORIG: Neal Gorman - 02/18/97

	   Returns the results of the deposit modeling computations.  Client
	   indicates desired value by leaving it blank and providing remaining
	   values.

	   [SCATBL5]RPCID=45

	   KEYWORDS: 	Client/Server, Deposit Utilities

	   ARGUMENTS:
	   	. return 	Data (see below)  		/TYP=T/REQ
	         						/MECH=REFNAM:W

	   	. versn  	^MRPC045 version number 	/TYP=N/REQ
	     			Current version = 1  		/MECH=VAL

	   	. odt 		Beginning date   		/TYP=D/REQ
	         						/MECH=VAL

	   	. iacm  	Interest accrual method 	/TYP=T/REQ
	         						/MECH=VAL

	   	. icompfre 	Interest compounding frequency 	/TYP=F/NOREQ
	         						/MECH=VAL

	     			Indicates how often
	    	 		interest amounts are added
	     			to the principal balance.
	     			Consider both interest interest
	     			posting and interest compounding.

	   	. tranfre 	Transaction frequency  		/TYP=D
	         						/MECH=VAL
	     			Indicates how often a
	     			deposit or withdrawal
	     			transaction (column tranamt)
	     			should be factored into
	     			the computation.  Required
	     			if tranamt is not null.

	   	. tranamt 	Periodic transaction amount 	/TYP=N
	         						/MECH=VAL
	     			Left blank if this is the
	     			value requested by the client.
	    	 		Otherwise required if tranfre
	     			is not null.

	     			Amount should be positive if a
	     			deposit transaction or negative
	     			if a withdrawal.

	   	. presval 	Present value   		/TYP=N
	         						/MECH=VAL
	     			Left blank if this is the
	     			value requested by the client.
	     			Otherwise required.

	   	. futval 	Future value   			/TYP=N
	         						/MECH=VAL
	     			Left blank if this is the
	     			value requested by the client.
	     			Otherwise required.

	   	. irn  		Annual interest rate  		/TYP=N
	         						/MECH=VAL
	     			Left blank if this is the
	     			value requested by the client.
	     			Otherwise required.

	   	. trm  		Term    			/TYP=T
	         						/MECH=VAL
	     			Left blank if this is the
	     			value requested by the client.
	     			Otherwise required.

	     			Standard IBS term syntax is
	     			required.

	  	 . busopt       Business Date Option  		/TYP=N
	         						/MECH=VAL

	   	. nbdc  	Non Business Date Calendar 	/TYP=D
	         						/MECH=VAL

	   	. type  	Product Type   			/TYP=N/REQ
	         /MECH=VAL

	   RETURNS:
	   	. $$  		Error message   		/TYP=T
	     			Null = No error

	   	. answer 	Missing parameter

	   	. yield  	Effective annual yield

	   RELATED:
	   	. $$^PBSMRPC - MRPC Service Class Driver


	  ---- Revision History ------------------------------------------------

	   11/04/02 - JERUCHIMC - 51283
		      Remove $Gs from required parameters.  Make type a
		      required variable.

	   04/02/02 - SHVACHKINAD - 49794
		      Converted to PSL.
	
	   01/02/01 - ESTERLYP - 42289
	        Added type as parameter.

	   12/14/99 - JERUCHIMC - 34287
	              Moved all code to procedure DEPMOD so that the host can also use
	              the same logic.

	   09/27/99 - KLINEB - 34862
	              Added arguments busopt and nbdc to argument list.
	              Corrects  %GTM-E-ACTLSTTOOLONG error.

	   08/03/99 - REEDD - 34030
	              Modified the code to set the busopt and nbdc.  Also
	              changed the code to set this value into the FIN array.

	  ----------------------------------------------------------------------
	*/

	new val
	set return=$G(return)
	set val=$$^DEPMOD1(.return,versn,odt,$G(iacm),$G(icompfre),$G(tranfre),$G(tranamt),$G(presval),$G(futval),$G(irn),$G(trm),$G(busopt),$G(nbdc),type)
	if $G(ER)'=1 quit val
	if ER quit $$ERRMSG^PBSUTL($G(RM),$G(ET))

	quit

vSIG()	quit "59886^43585^Sanchez SCM Administrator^3624"	// Signature - LTD^TIME^USER^SIZE
