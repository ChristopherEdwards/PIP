PCSCL(String RPADIS,Number CID)	// Closeout Routine for Withholding
	/*
	        ORIG:  ROTELLA - 22 OCT 1992
	   CALLED BY:
	       CALLS:
	        DESC:


	   ARGUMENTS:
	   		. RPADIS	DIS number		/REQ/MECH=VAL
	   		. CID		Account Number		/REQ/MECH=REF


	   EXT ENTRY:

	  ---- Revision History ------------------------------------------------

            07/26/05 - SkariahV- CR16679
	               Removed #WARN and #OPTIMIZE directives.
	              
	    06-04-03 - TELIV - 51351
	    	Converted to PSL


	  ----------------------------------------------------------------------

	*/

	type public Number ER=0
	type public String ET

	type RecordDEP dep=Db.getRecord("DEP","CID=:CID",1)

	// Record not on file
	if dep.getMode()=0 set ER=1 set ET="RECNOF" do ^UTLERR quit

	set RPADIS=RPADIS.get()

	do TSO(RPADIS,.dep) 
	
	if ER quit
	
	do CWIP^DEPDBS(.dep)

	quit


TSO(String RPADIS,RecordDEP dep)	//  TSO from UTBL

	type public String ER,ET
	type String dft,PCSTSO,RM,RPA,TSO,UTBLIRA,WHCALC

	set TSO("IRAD")=RPADIS

	// RPA Type
	set RPA=dep.ira

	// Tran code invalid for Retirement account
	if 'RPADIS,RPA set ER=1 set RM=$$^MSG(1056) quit

	// Tran code invalid for non-Retirement account
	if RPADIS,'RPA set ER=1 set RM=$$^MSG(1057) quit

	if 'RPADIS quit

	type RecordUTBLIRADIS utblira=Db.getRecord("UTBLIRADIS","KEY=:RPADIS",1)

	set WHCALC=utblira.wh

	// Transaction code invalid for LIF account
	if 'utblira.lif,(RPA=7) set ER=1 set RM=$$^MSG(1058) quit

	set dft("TSO(""IRAD"")")=RPADIS

	do IN^UTSO(.PCSTSO,.TSO)

	quit

vSIG()	quit "60107^27450^Viji Skariah^1406"	// Signature - LTD^TIME^USER^SIZE
