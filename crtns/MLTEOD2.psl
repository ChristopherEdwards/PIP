MLTEOD2		/*
	PROCEDURE:  MLTEOD2
	ORIG: Bill Greene - 03/24/88
	DESC: Run batch file maintenance updates

	---- Comments --------------------------------------------------------

	This procedure is jobbed by MLTEOD1, having been passed the CODE array
	of PSL to compile into a run-time routine to execute the batch file
	maintenance for a specific TYPE.

 	---- Revision History ------------------------------------------------

	01/12/05 - ARPAVC 13861
		   Fixed compile errors and miscellaneous issues.  
		   - Properly scoped all variables
		   
	05/12/02 - Dan Russell
		   Rewrote from M to PSL.
	*/

	type Public Boolean ER
	type Public String CLS,CODE(),JOBNUM,MLTEOD,RM
	type Public Number CHGNUM1,TYPE
	type Public Number DATE
	
	type String PGM,XPGM
	
	// Catch GT.M errors but continue with next type
	catch error {
		do ZE^UTLERR
	}

	lock +MLTEOD(JOBNUM)

	set PGM="TMP"_($J#100000)
	set XPGM="^"_PGM_"("_DATE_","""_CLS_""","""_TYPE_""","_CHGNUM1_")"

	kill RM
	do BUILDRTN^UCGM(.CODE,PGM,.RM)

	do @XPGM

	do DEL^%ZRTNDEL(PGM)

	lock -MLTEOD(JOBNUM)

	quit
 #OPTION ResultClass ON
Public String vSIG()	quit "59932^39217^Vincent Arpa^1014"	// Signature - LTD^TIME^USER^SIZE
