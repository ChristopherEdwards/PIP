RSPADD		//------Revision History-----------------------------------------------
	/*
	05/02/06 - DESHPANDE S K - 20986
		   Modified function FULLADDR.Cleaned up logic removed local 
		   variables and brought up to latest PSL standards.
	*/
	quit

public FULLADDR(Number ACN,	// Customer number				/REQ
		Number RPASEQ)  // Retirement Plan Account Sequence Number	/REQ
 
       // This routine is used to retrieve retirement plan address
       // information for 1099-R and IRS 5498 Forms

        type String RPADDR
        
        type RecordCIF cifrec = Db.getRecord("CIF", "ACN = :ACN", 1)
        
        type RecordIRATYPE irarec = Db.getRecord("IRATYPE", "ACN = :ACN, RPASEQ = :RPASEQ", 1)
        
        if ('irarec.rpmad1.isNull()) set RPADDR = irarec.rpmad1_"|"_irarec.rpmad2_"|"_irarec.rpmad3_"|"_irarec.rpcity_"|"_irarec.rpstate_"|"_irarec.rpzip.piece("-",1)_irarec.rpzip.piece("-",2)_"|"_irarec.rpcntry
	else  set RPADDR = cifrec.mad1_"|"_cifrec.mad2_"|"_cifrec.mad3_"|"_cifrec.mcity_"|"_cifrec.mstate_"|"_cifrec.mzip.piece("-",1)_cifrec.mzip.piece("-",2)_"|"_cifrec.mcntry
        		
	quit RPADDR       
	
	
 #OPTION ResultClass ON
Public String vSIG()	quit "60404^49739^Shriram Deshpande^1022"	// Signature - LTD^TIME^USER^SIZE
