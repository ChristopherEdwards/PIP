public	ZDEPPI(RecordDEP dep, RecordTTX ttx, RecordTRN trn)
	/*
	ORIG: rickardsb - 07/06/2007
	DESC: Custom Deposit Account Paid-In

	---- Comments --------------------------------------------------------

	This new custom posting routine will call DEPPI (standard credit 
	posting routine) to credit the Profile account and then attempt
	to remove existing permanent holds, if they exist.

	---- Revision History ------------------------------------------------

	*/

	do ^DEPPI(.dep,.ttx,.trn)

	quit:ER

	type Number RVAL
	type String TAMT,TSO

	set TAMT = +ttx.tamt

	if ttx.itc13 do { quit:ER

		// Extract TSO fields
		set TSO=""
		do OUT^UTSO(.TSO, ttx.tso)

		set RVAL=$$EXPHOLD^ITSHOLDS(dep.cid, TSO("HLDSEQ").get(), TAMT, TSO("REAPPLY").get())
	}

	quit
 #OPTION ResultClass ON
Public String vSIG()	quit "60821^41313^Brandon Rickards^671"	// Signature - LTD^TIME^USER^SIZE
