DAYNDCDI	  /*
ORIG: haileyk - 08/16/2000
DESC: Computed Data Items for Dayend Files

---- Comments --------------------------------------------------------

---- Revision History ------------------------------------------------

	12/29/05 - PRAKASHJ - CR17423
		   Removed PSL deprecited features and warnings.

	02/02/04 - Erik Scheetz - CR7798
		Removed linetags STMT739, IRASTGRP, MF and SFRE.  These 
		linetags are for computed dataitems from DAYENDSTM table
		which is being obsoleted.  Any calls made to these linetags
		have been replaced.
		
	03/21/02 - MYERSK - 49649
		Added computed data itme DAYENDSTM.STMT739, Include 739
		records in statement extract

	02/27/02 - OFALTR - 49384
		Added computed item IRASTGRP, IRA statement group.

	11/21/00 - BURNSM - 42861
		Added computed data items, MMDAC1, Number of Third party 
		checks - period 1, and MMDAT1, Number of Limited 
		Transactions - period 1.

	11/16/00 - BURNSM - 42861
		Added computed data items, MMDAC112 and MMDAT112. Each 
		acts the same as MMDACEXC and MMDATEXC, respectively. 
		However, they compare all twelve periods to their
		respective maximum.

	11/01/00 - geissp - 42384
		Added section SFRE.

	10/24/00 - BURNSM - 42440
		Changed MMDACEXC to compare MMDA1,MMDAC1,MMDAC2,...,
		MMDAC10,MMDAC11 to the maximum number of Third Party 
		Checks.
		Changed MMDATEXC to compare MMDA2,MMDAT1,MMDAT2,...,
		MMDAT10,MMDAT11 to the maximum number of Limited 
		Transactions.


	LIBRARY:

		$$MMDACEXC	- Number of Periods Third Party Checks Exceeded
		$$MMDATEXC	- Number of Periods Limited Transactions Exceeded
		$$MMDAC112	- Number of Periods Third Party Checks Exceeded
		$$MMDAT112	- Number of Periods Limited Transactions Exceeded 
		$$MMDAC1	- Number of Third Party Checks - period 1
		$$MMDAT1	- Number of Limited Transactions - period 1
		
 */

	quit



MMDACEXC(Number XCID)	// Number of Periods Third Party Checks Exceeded
	/*
	This function is used to compute [DAYENDREGD]MMDACEXC field

         ARGUMENTS:
          . CID         Account Number           /TYP=N/REQ/MECH=VAL
 
        RETURNS:
          $$  Number of Periods Third Party Checks Exceeded
 
         EXAMPLE:$$MMDACEXC^DAYNDCDI(CID)
        */

	type Number I,CNT
	type String MMDA,MMDA1
	
	set MMDA1=3
	set CNT=0

	type ResultSet rs=Db.select("MMDA1,MMDAC1,MMDAC2,MMDAC3,MMDAC4,MMDAC5,MMDAC6,MMDAC7,MMDAC8,MMDAC9,MMDAC10,MMDAC11","DEP","CID=:XCID")
	if rs.isEmpty() quit ""
	if rs.next() do {
		for I=1:1:12 do {
			set MMDA=rs.getCol(I)
			if MMDA>MMDA1 set CNT=CNT+1
			}
		}
	quit CNT

MMDATEXC(Number XCID)	// Number of Periods Limited Transactions Exceeded
        /*
        This function is used to compute [DAYENDREGD]MMDATEXC field
 
         ARGUMENTS:
          . CID         Account Number           /TYP=N/REQ/MECH=VAL
 
        RETURNS:
          $$  Number of Periods Limited Transactions Exceeded
 
         EXAMPLE:$$MMDATETC^DAYNDCDI(CID)
        */
	type Number I,CNT
	type String MMDA,MMDA2

        set MMDA2=6
        set CNT=0

	type ResultSet rs=Db.select("MMDA2,MMDAT1,MMDAT2,MMDAT3,MMDAT4,MMDAT5,MMDAT6,MMDAT7,MMDAT8,MMDAT9,MMDAT10,MMDAT11","DEP","CID=:XCID")
	if rs.isEmpty() quit ""
	if rs.next() do {
		for I=1:1:12 do {
			set MMDA=rs.getCol(I)
			if MMDA>MMDA2 set CNT=CNT+1
			}
		}
	quit CNT

MMDAC112(Number XCID)  // Number of Periods Third Party Checks Exceeded
	/*
	This function is used to compute [DAYENDREGD]MMDAC112 field

	ARGUMENTS:
	 . CID         Account Number           /TYP=N/REQ/MECH=VAL

	RETURNS:
	 $$  Number of Periods Third Party Checks Exceeded

	EXAMPLE:$$MMDAC112^DAYNDCDI(CID)
	*/

	type Number I,CNT
	type String MMDA,MMDA1
	
	set MMDA1=3
	set CNT=0

	type ResultSet rs=Db.select("MMDAC1,MMDAC2,MMDAC3,MMDAC4,MMDAC5,MMDAC6,MMDAC7,MMDAC8,MMDAC9,MMDAC10,MMDAC11,MMDAC12","DEP","CID=:XCID")
	if rs.isEmpty() quit ""
	if rs.next() do {
		for I=1:1:12 do {
			set MMDA=rs.getCol(I)
			if MMDA>MMDA1 set CNT=CNT+1
			}
		}
	quit CNT
 
MMDAT112(Number XCID)  // Number of Periods Limited Transactions Exceeded
	/*
	This function is used to compute [DAYENDREGD]MMDAT112 field

	ARGUMENTS:
	 . CID         Account Number           /TYP=N/REQ/MECH=VAL

	RETURNS:
	 $$  Number of Periods Limited Transactions Exceeded

	EXAMPLE:$$MMDAT112^DAYNDCDI(CID)
	*/

	type Number I,CNT
	type String MMDA,MMDA2

	set MMDA2=6
	set CNT=0

	type ResultSet rs=Db.select("MMDAT1,MMDAT2,MMDAT3,MMDAT4,MMDAT5,MMDAT6,MMDAT7,MMDAT8,MMDAT9,MMDAT10,MMDAT11,MMDAT12","DEP","CID=:XCID")
	if rs.isEmpty() quit ""
	if rs.next() do {
		for I=1:1:12 do {
			set MMDA=rs.getCol(I)
			if MMDA>MMDA2 set CNT=CNT+1
			}
		}
	quit CNT

MMDAC1(Number XCID)	// Number of Third Party Checks - period 1
	/*
	This function is used to compute [DAYENDREGD]MMDAC1 field.

	ARGUMENTS:
	 . CID         Account Number           /TYP=N/REQ/MECH=VAL

	RETURNS:
	 $$ Number of Third Party Checks - period 1

	EXAMPLE:
	 $$MMDAC1^DAYNDCDI(CID)
	*/
	type RecordDEP dep=Db.getRecord("DEP","CID=:XCID",1)
	quit +dep.mmdac1
	
MMDAT1(Number XCID)	// Number of Limited Transactions - period 1
	/*
	This function is used to compute [DAYENDREGD]MMDAT1 field.

	ARGUMENTS:
	 . CID         Account Number           /TYP=N/REQ/MECH=VAL

	RETURNS:
	 $$ Number of Limited Transactions - period 1

	EXAMPLE:
	 $$MMDAT1^DAYNDCDI(CID)
	*/

	type RecordDEP dep=Db.getRecord("DEP","CID=:XCID",1)
	quit +dep.mmdat1

 #OPTION ResultClass ON
Public String vSIG()	quit "60295^32618^Jaimano Prakash^5133"	// Signature - LTD^TIME^USER^SIZE
