UAVB3	 /*
    ORIG: GRAY - 01/13/2000
    DESC: Rate/Balance Change Summary
    
    ---- Comments --------------------------------------------------------
    
    ---- Revision History ------------------------------------------------
 	09/26/05 - ALAGARSS - CR 16677
		   Removed deprecated method Db.getOneRow and replaced with
		   Db.getRecord. 
		   
	12/08/99 - GRAY - 32507
		   Removed code no longer needed due to the Elimination
		   of Teller/Branch Character Interface and placed remaining
		   code into PSL'd procedure definition.
 */
	
	quit

	
Public FDERR	// This Function handles error checking for host & GUI
	
	type Public Date ODT,FD
	type Public String RM
	type Public Number ER,CID
	
	new HISCTF,X,CLS,IRA
	
	type RecordACN acn=Db.getRecord("ACN","CID=:CID")
	set HISCTF=acn.hisctf
	set ODT=acn.odt
	set CLS=acn.cls
	
	// From Date entered is before available history.
	if HISCTF,HISCTF>FD set ER=1,RM=$$^MSG(8215)

	// From Date entered is before account open date.
        if CLS="D",'HISCTF,ODT>FD set ER=1,RM=$$^MSG(8214)

	// From Date entered is before account disbursement date.
        if CLS="L" do {
		new ODD
		type RecordLN ln=Db.getRecord("LN","CID=:CID")
		set ODD=ln.odd
		if 'HISCTF,ODD>FD set ER=1,RM=$$^MSG(8213)
		}
	quit
	
Public TDERR	//
	// From Date is greater than Through Date.
	type Public Date FD,TD
	type Public String RM
	type Public Number ER
	
        if FD>TD set ER=1,RM=$$^MSG(8216) 
        quit

vSIG()	quit "60193^26349^Sanjay Chhrabria^1390"	// Signature - LTD^TIME^USER^SIZE
