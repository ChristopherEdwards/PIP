V01S007( Number %ProcessMode,RecordCUVAR fCUVAR)   //PBS - SCA - SID= <CUVAR> Institution Variables
 ;;Copyright(c)2007 Sanchez Computer Associates, Inc.  All Rights Reserved - 01/31/2007 11:50 - shetyes
 #WARN ACCESS,MISMATCH OFF
 	/*
 	ORIG: CHENARDP - 02/27/2003
 	DESC: Linked Screen Template

 	---- Comments --------------------------------------------------------
	This procedure is used as the base template for the PSL screen compiler.
	It is referenced by the PSL screen compiler - procedure DBS2PSL4


	 ---- Revision History ------------------------------------------------
	09/24/03 - Pete Chenard - 45497
		       Created linked screen template for screen compiler.
	-----------------------------------------------------------------------

	 */
 
 type Public Number ER
 type Public String %PAG,%PAGE,%PG,%PGSV,MULSCR,RM,VFMQ
 type String KVAR,VPG(),vPSL,VSID
 set VSID="CUVAR"
 set KVAR="kill %A,%TAB,vtab,VFSN,%OLD,%NEW,%FILE,%INDEX,%PAGE,%PG,UX,MULSCR"
 set:'%PG.exists() %PG=1 set %PAG=%PG+26 set %PAGE=$S(%PAGE.exists():%PAGE-1,1:0)+27
 set vPSL=1  //compiled for PSL
 //
 set VPG(%PG+0)="General Information (Inst. Identity)|CUVARGEN1"
 set VPG(%PG+1)="General Information (Software, Misc)|CUVARGEN2"
 set VPG(%PG+2)="Year-End Reporting|CUVARIRS"
 set VPG(%PG+3)="Magnetic Media Processing Institution|CUVMEDIA"
 set VPG(%PG+4)="General Ledger|CUVARGL"
 set VPG(%PG+5)="CIF Information|CUVARCIF"
 set VPG(%PG+6)="Deposit & Loan |CUVARCTL"
 set VPG(%PG+7)="Account Integrity Control Options|CUVARINT"
 set VPG(%PG+8)="Deposit (General)|CUVARDEP1"
 set VPG(%PG+9)="Deposit (Dormancy, Escheat)|CUVARDEP2"
 set VPG(%PG+10)="Deposit (Retirement Accts)|CUVARDEP3"
 set VPG(%PG+11)="Reg CC Control Options|CUVARRCC"
 set VPG(%PG+12)="Loan (General)|CUVARLN1"
 set VPG(%PG+13)="Loan (Escrow, Manual Conv)|CUVARLN2"
 set VPG(%PG+14)="Loan (Delq, Credit Bureau)|CUVARLN3"
 set VPG(%PG+15)="Provision/ Asset Reclassification|CUVARLN4"
 set VPG(%PG+16)="Teller Processing I|CUVARTELL"
 set VPG(%PG+17)="System Management (General)|CUVARMGR1"
 set VPG(%PG+18)="Custom Program Linkages|CUVARMGR1B"
 set VPG(%PG+19)="System Management (Dayend, Jnl, Maint)|CUVARMGR2"
 set VPG(%PG+20)="DATA-QWIK|CUVARDQ"
 set VPG(%PG+21)="Foreign Currency|CUVARMCP"
 set VPG(%PG+22)="Account Lookup Display Format Definition|CUVARLOOKUP"
 set VPG(%PG+23)="SWIFT Gateway Information|CUVARGW"
 set VPG(%PG+24)="Payment Systems|CUVARPAY"
 set VPG(%PG+25)="Euro Currency Information|CUVAREUR"
 set VPG(%PG+26)="Payment Systems(External Accounts)|CUVARPAY2"
	set:'$D(%PG) %PG=1 set %PGSV=%PG,MULSCR=""
 if '%ProcessMode do VNEW(.fCUVAR)
 if %ProcessMode do VLOD(.fCUVAR) if $G(ER) set VFMQ="Q" quit
 do VPG(.fCUVAR)
 quit

VNEW(RecordCUVAR fCUVAR)
 
 quit
 //
 ;
VLOD(RecordCUVAR fCUVAR)  // User defined access section
	quit

VPG(RecordCUVAR fCUVAR)
 type Public Number %PG,%PGSV
 type Number vDONE
 set vDONE=0
 for  do { quit:vDONE
  if %PG=(%PGSV+0) do VPG1(.fCUVAR),VPG0(.fCUVAR) quit:vDONE
  if %PG=(%PGSV+1) do VPG2(.fCUVAR),VPG0(.fCUVAR) quit:vDONE
  if %PG=(%PGSV+2) do VPG3(.fCUVAR),VPG0(.fCUVAR) quit:vDONE
  if %PG=(%PGSV+3) do VPG4(.fCUVAR),VPG0(.fCUVAR) quit:vDONE
  if %PG=(%PGSV+4) do VPG5(.fCUVAR),VPG0(.fCUVAR) quit:vDONE
  if %PG=(%PGSV+5) do VPG6(.fCUVAR),VPG0(.fCUVAR) quit:vDONE
  if %PG=(%PGSV+6) do VPG7(.fCUVAR),VPG0(.fCUVAR) quit:vDONE
  if %PG=(%PGSV+7) do VPG8(.fCUVAR),VPG0(.fCUVAR) quit:vDONE
  if %PG=(%PGSV+8) do VPG9(.fCUVAR),VPG0(.fCUVAR) quit:vDONE
  if %PG=(%PGSV+9) do VPG10(.fCUVAR),VPG0(.fCUVAR) quit:vDONE
  if %PG=(%PGSV+10) do VPG11(.fCUVAR),VPG0(.fCUVAR) quit:vDONE
  if %PG=(%PGSV+11) do VPG12(.fCUVAR),VPG0(.fCUVAR) quit:vDONE
  if %PG=(%PGSV+12) do VPG13(.fCUVAR),VPG0(.fCUVAR) quit:vDONE
  if %PG=(%PGSV+13) do VPG14(.fCUVAR),VPG0(.fCUVAR) quit:vDONE
  if %PG=(%PGSV+14) do VPG15(.fCUVAR),VPG0(.fCUVAR) quit:vDONE
  if %PG=(%PGSV+15) do VPG16(.fCUVAR),VPG0(.fCUVAR) quit:vDONE
  if %PG=(%PGSV+16) do VPG17(.fCUVAR),VPG0(.fCUVAR) quit:vDONE
  if %PG=(%PGSV+17) do VPG18(.fCUVAR),VPG0(.fCUVAR) quit:vDONE
  if %PG=(%PGSV+18) do VPG19(.fCUVAR),VPG0(.fCUVAR) quit:vDONE
  if %PG=(%PGSV+19) do VPG20(.fCUVAR),VPG0(.fCUVAR) quit:vDONE
  if %PG=(%PGSV+20) do VPG21(.fCUVAR),VPG0(.fCUVAR) quit:vDONE
  if %PG=(%PGSV+21) do VPG22(.fCUVAR),VPG0(.fCUVAR) quit:vDONE
  if %PG=(%PGSV+22) do VPG23(.fCUVAR),VPG0(.fCUVAR) quit:vDONE
  if %PG=(%PGSV+23) do VPG24(.fCUVAR),VPG0(.fCUVAR) quit:vDONE
  if %PG=(%PGSV+24) do VPG25(.fCUVAR),VPG0(.fCUVAR) quit:vDONE
  if %PG=(%PGSV+25) do VPG26(.fCUVAR),VPG0(.fCUVAR) quit:vDONE
  if %PG=(%PGSV+26) do VPG27(.fCUVAR),VPG0(.fCUVAR) quit:vDONE
  }
 quit

VPG0(RecordCUVAR fCUVAR)
 type Public String vDONE,VFMQ,VPG()
 type Public Number %PAG,%PAGE,%PG,%PGSV
 type String %LINK
 set %LINK=""
 if %ProcessMode=2!(%ProcessMode=3)!(%ProcessMode=4) do VBTM(.fCUVAR) if VFMQ.get()="D" set vDONE=1 quit
 if '%PAGE.exists() set vDONE=1 quit
 if %PG'<%PAG kill %PAG,%PGSV,VPG set vDONE=1 quit
 set %PG=%PG+1
 quit

 
VPG1(RecordCUVAR fCUVAR)  // General Information (Inst. Identity)
 type Public String %MODS,%REPEAT,ET,VPGM,VPTBL
 type String DFID,PGM,SID
 set SID="CUVARGEN1",DFID="CUVAR"
 do ^USID if PGM="" set ET="INVLDSCR" do ^UTLERR Q
 kill VPTBL
 set VPGM=PGM
 do VREPRNT^V01S173
 if %ProcessMode>1 quit
 do VTAB^V01S173(.fCUVAR)
 quit
 
VPG2(RecordCUVAR fCUVAR)  // General Information (Software, Misc)
 type Public String %MODS,%REPEAT,ET,VPGM,VPTBL
 type String DFID,PGM,SID
 set SID="CUVARGEN2",DFID="CUVAR"
 do ^USID if PGM="" set ET="INVLDSCR" do ^UTLERR Q
 kill VPTBL
 set VPGM=PGM
 do VREPRNT^V01S174
 if %ProcessMode>1 quit
 do VTAB^V01S174(.fCUVAR)
 quit
 
VPG3(RecordCUVAR fCUVAR)  // Year-End Reporting
 type Public String %MODS,%REPEAT,ET,VPGM,VPTBL
 type String DFID,PGM,SID
 set SID="CUVARIRS",DFID="CUVAR"
 do ^USID if PGM="" set ET="INVLDSCR" do ^UTLERR Q
 kill VPTBL
 set VPGM=PGM
 do VREPRNT^V01S177
 if %ProcessMode>1 quit
 do VTAB^V01S177(.fCUVAR)
 quit
 
VPG4(RecordCUVAR fCUVAR)  // Magnetic Media Processing Institution
 type Public String %MODS,%REPEAT,ET,VPGM,VPTBL
 type String DFID,PGM,SID
 set SID="CUVMEDIA",DFID="CUVAR"
 do ^USID if PGM="" set ET="INVLDSCR" do ^UTLERR Q
 kill VPTBL
 set VPGM=PGM
 do VREPRNT^V01S191
 if %ProcessMode>1 quit
 do VTAB^V01S191(.fCUVAR)
 quit
 
VPG5(RecordCUVAR fCUVAR)  // General Ledger
 type Public String %MODS,%REPEAT,ET,VPGM,VPTBL
 type String DFID,PGM,SID
 set SID="CUVARGL",DFID="CUVAR"
 do ^USID if PGM="" set ET="INVLDSCR" do ^UTLERR Q
 kill VPTBL
 set VPGM=PGM
 do VREPRNT^V01S036
 if %ProcessMode>1 quit
 do VTAB^V01S036(.fCUVAR)
 quit
 
VPG6(RecordCUVAR fCUVAR)  // CIF Information
 type Public String %MODS,%REPEAT,ET,VPGM,VPTBL
 type String DFID,PGM,SID
 set SID="CUVARCIF",DFID="CUVAR"
 do ^USID if PGM="" set ET="INVLDSCR" do ^UTLERR Q
 kill VPTBL
 set VPGM=PGM
 do VREPRNT^V01S035
 if %ProcessMode>1 quit
 do VTAB^V01S035(.fCUVAR)
 quit
 
VPG7(RecordCUVAR fCUVAR)  // Deposit & Loan 
 type Public String %MODS,%REPEAT,ET,VPGM,VPTBL
 type String DFID,PGM,SID
 set SID="CUVARCTL",DFID="CUVAR"
 do ^USID if PGM="" set ET="INVLDSCR" do ^UTLERR Q
 kill VPTBL
 set VPGM=PGM
 do VREPRNT^V01S167
 if %ProcessMode>1 quit
 do VTAB^V01S167(.fCUVAR)
 quit
 
VPG8(RecordCUVAR fCUVAR)  // Account Integrity Control Options
 type Public String %MODS,%REPEAT,ET,VPGM,VPTBL
 type String DFID,PGM,SID
 set SID="CUVARINT",DFID="CUVAR"
 do ^USID if PGM="" set ET="INVLDSCR" do ^UTLERR Q
 kill VPTBL
 set VPGM=PGM
 do VREPRNT^V01S176
 if %ProcessMode>1 quit
 do VTAB^V01S176(.fCUVAR)
 quit
 
VPG9(RecordCUVAR fCUVAR)  // Deposit (General)
 type Public String %MODS,%REPEAT,ET,VPGM,VPTBL
 type String DFID,PGM,SID
 set SID="CUVARDEP1",DFID="CUVAR"
 do ^USID if PGM="" set ET="INVLDSCR" do ^UTLERR Q
 kill VPTBL
 set VPGM=PGM
 do VREPRNT^V01S168
 if %ProcessMode>1 quit
 do VTAB^V01S168(.fCUVAR)
 quit
 
VPG10(RecordCUVAR fCUVAR)  // Deposit (Dormancy, Escheat)
 type Public String %MODS,%REPEAT,ET,VPGM,VPTBL
 type String DFID,PGM,SID
 set SID="CUVARDEP2",DFID="CUVAR"
 do ^USID if PGM="" set ET="INVLDSCR" do ^UTLERR Q
 kill VPTBL
 set VPGM=PGM
 do VREPRNT^V01S169
 if %ProcessMode>1 quit
 do VTAB^V01S169(.fCUVAR)
 quit
 
VPG11(RecordCUVAR fCUVAR)  // Deposit (Retirement Accts)
 type Public String %MODS,%REPEAT,ET,VPGM,VPTBL
 type String DFID,PGM,SID
 set SID="CUVARDEP3",DFID="CUVAR"
 do ^USID if PGM="" set ET="INVLDSCR" do ^UTLERR Q
 kill VPTBL
 set VPGM=PGM
 do VREPRNT^V01S170
 if %ProcessMode>1 quit
 do VTAB^V01S170(.fCUVAR)
 quit
 
VPG12(RecordCUVAR fCUVAR)  // Reg CC Control Options
 type Public String %MODS,%REPEAT,ET,VPGM,VPTBL
 type String DFID,PGM,SID
 set SID="CUVARRCC",DFID="CUVAR"
 do ^USID if PGM="" set ET="INVLDSCR" do ^UTLERR Q
 kill VPTBL
 set VPGM=PGM
 do VREPRNT^V01S188
 if %ProcessMode>1 quit
 do VTAB^V01S188(.fCUVAR)
 quit
 
VPG13(RecordCUVAR fCUVAR)  // Loan (General)
 type Public String %MODS,%REPEAT,ET,VPGM,VPTBL
 type String DFID,PGM,SID
 set SID="CUVARLN1",DFID="CUVAR"
 do ^USID if PGM="" set ET="INVLDSCR" do ^UTLERR Q
 kill VPTBL
 set VPGM=PGM
 do VREPRNT^V01S178
 if %ProcessMode>1 quit
 do VTAB^V01S178(.fCUVAR)
 quit
 
VPG14(RecordCUVAR fCUVAR)  // Loan (Escrow, Manual Conv)
 type Public String %MODS,%REPEAT,ET,VPGM,VPTBL
 type String DFID,PGM,SID
 set SID="CUVARLN2",DFID="CUVAR"
 do ^USID if PGM="" set ET="INVLDSCR" do ^UTLERR Q
 kill VPTBL
 set VPGM=PGM
 do VREPRNT^V01S179
 if %ProcessMode>1 quit
 do VTAB^V01S179(.fCUVAR)
 quit
 
VPG15(RecordCUVAR fCUVAR)  // Loan (Delq, Credit Bureau)
 type Public String %MODS,%REPEAT,ET,VPGM,VPTBL
 type String DFID,PGM,SID
 set SID="CUVARLN3",DFID="CUVAR"
 do ^USID if PGM="" set ET="INVLDSCR" do ^UTLERR Q
 kill VPTBL
 set VPGM=PGM
 do VREPRNT^V01S180
 if %ProcessMode>1 quit
 do VTAB^V01S180(.fCUVAR)
 quit
 
VPG16(RecordCUVAR fCUVAR)  // Provision/ Asset Reclassification
 type Public String %MODS,%REPEAT,ET,VPGM,VPTBL
 type String DFID,PGM,SID
 set SID="CUVARLN4",DFID="CUVAR"
 do ^USID if PGM="" set ET="INVLDSCR" do ^UTLERR Q
 kill VPTBL
 set VPGM=PGM
 do VREPRNT^V01S181
 if %ProcessMode>1 quit
 do VTAB^V01S181(.fCUVAR)
 quit
 
VPG17(RecordCUVAR fCUVAR)  // Teller Processing I
 type Public String %MODS,%REPEAT,ET,VPGM,VPTBL
 type String DFID,PGM,SID
 set SID="CUVARTELL",DFID="CUVAR"
 do ^USID if PGM="" set ET="INVLDSCR" do ^UTLERR Q
 kill VPTBL
 set VPGM=PGM
 do VREPRNT^V01S190
 if %ProcessMode>1 quit
 do VTAB^V01S190(.fCUVAR)
 quit
 
VPG18(RecordCUVAR fCUVAR)  // System Management (General)
 type Public String %MODS,%REPEAT,ET,VPGM,VPTBL
 type String DFID,PGM,SID
 set SID="CUVARMGR1",DFID="CUVAR"
 do ^USID if PGM="" set ET="INVLDSCR" do ^UTLERR Q
 kill VPTBL
 set VPGM=PGM
 do VREPRNT^V01S184
 if %ProcessMode>1 quit
 do VTAB^V01S184(.fCUVAR)
 quit
 
VPG19(RecordCUVAR fCUVAR)  // Custom Program Linkages
 type Public String %MODS,%REPEAT,ET,VPGM,VPTBL
 type String DFID,PGM,SID
 set SID="CUVARMGR1B",DFID="CUVAR"
 do ^USID if PGM="" set ET="INVLDSCR" do ^UTLERR Q
 kill VPTBL
 set VPGM=PGM
 do VREPRNT^V01S185
 if %ProcessMode>1 quit
 do VTAB^V01S185(.fCUVAR)
 quit
 
VPG20(RecordCUVAR fCUVAR)  // System Management (Dayend, Jnl, Maint)
 type Public String %MODS,%REPEAT,ET,VPGM,VPTBL
 type String DFID,PGM,SID
 set SID="CUVARMGR2",DFID="CUVAR"
 do ^USID if PGM="" set ET="INVLDSCR" do ^UTLERR Q
 kill VPTBL
 set VPGM=PGM
 do VREPRNT^V01S186
 if %ProcessMode>1 quit
 do VTAB^V01S186(.fCUVAR)
 quit
 
VPG21(RecordCUVAR fCUVAR)  // DATA-QWIK
 type Public String %MODS,%REPEAT,ET,VPGM,VPTBL
 type String DFID,PGM,SID
 set SID="CUVARDQ",DFID="CUVAR"
 do ^USID if PGM="" set ET="INVLDSCR" do ^UTLERR Q
 kill VPTBL
 set VPGM=PGM
 do VREPRNT^V01S171
 if %ProcessMode>1 quit
 do VTAB^V01S171(.fCUVAR)
 quit
 
VPG22(RecordCUVAR fCUVAR)  // Foreign Currency
 type Public String %MODS,%REPEAT,ET,VPGM,VPTBL
 type String DFID,PGM,SID
 set SID="CUVARMCP",DFID="CUVAR"
 do ^USID if PGM="" set ET="INVLDSCR" do ^UTLERR Q
 kill VPTBL
 set VPGM=PGM
 do VREPRNT^V01S183
 if %ProcessMode>1 quit
 do VTAB^V01S183(.fCUVAR)
 quit
 
VPG23(RecordCUVAR fCUVAR)  // Account Lookup Display Format Definition
 type Public String %MODS,%REPEAT,ET,VPGM,VPTBL
 type String DFID,PGM,SID
 set SID="CUVARLOOKUP",DFID="CUVAR"
 do ^USID if PGM="" set ET="INVLDSCR" do ^UTLERR Q
 kill VPTBL
 set VPGM=PGM
 do VREPRNT^V01S182
 if %ProcessMode>1 quit
 do VTAB^V01S182(.fCUVAR)
 quit
 
VPG24(RecordCUVAR fCUVAR)  // SWIFT Gateway Information
 type Public String %MODS,%REPEAT,ET,VPGM,VPTBL
 type String DFID,PGM,SID
 set SID="CUVARGW",DFID="CUVAR"
 do ^USID if PGM="" set ET="INVLDSCR" do ^UTLERR Q
 kill VPTBL
 set VPGM=PGM
 do VREPRNT^V01S175
 if %ProcessMode>1 quit
 do VTAB^V01S175(.fCUVAR)
 quit
 
VPG25(RecordCUVAR fCUVAR)  // Payment Systems
 type Public String %MODS,%REPEAT,ET,VPGM,VPTBL
 type String DFID,PGM,SID
 set SID="CUVARPAY",DFID="CUVAR"
 do ^USID if PGM="" set ET="INVLDSCR" do ^UTLERR Q
 kill VPTBL
 set VPGM=PGM
 do VREPRNT^V01S187
 if %ProcessMode>1 quit
 do VTAB^V01S187(.fCUVAR)
 quit
 
VPG26(RecordCUVAR fCUVAR)  // Euro Currency Information
 type Public String %MODS,%REPEAT,ET,VPGM,VPTBL
 type String DFID,PGM,SID
 set SID="CUVAREUR",DFID="CUVAR"
 do ^USID if PGM="" set ET="INVLDSCR" do ^UTLERR Q
 kill VPTBL
 set VPGM=PGM
 do VREPRNT^V01S172
 if %ProcessMode>1 quit
 do VTAB^V01S172(.fCUVAR)
 quit
 
VPG27(RecordCUVAR fCUVAR)  // Payment Systems(External Accounts)
 type Public String %MODS,%REPEAT,ET,VPGM,VPTBL
 type String DFID,PGM,SID
 set SID="CUVARPAY2",DFID="CUVAR"
 do ^USID if PGM="" set ET="INVLDSCR" do ^UTLERR Q
 kill VPTBL
 set VPGM=PGM
 do VREPRNT^V01S725
 if %ProcessMode>1 quit
 do VTAB^V01S725(.fCUVAR)
 quit
 

VBTM(RecordCUVAR fCUVAR)

	if %ProcessMode=4,IO'=$P quit
	do ^DBSCRT8A
	quit
