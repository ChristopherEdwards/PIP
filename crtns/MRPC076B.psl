MRPC076B(String TRNSET,RecordTTX ttx(),Number brcdin,String return)	// Transaction Set Code Compiled Program
	// Last compiled:  09/03/2007 08:04 AM - lc9269

	// THIS IS A COMPILED ROUTINE.  Compiled by procedure MRPC076A

	// See MRPC076A for argument definitions

	type public String CRCD
	type Number NETAMTSQ = 0
	type String ERMSG,PROT
	type String ACH,AMT,BRCD,CC,CID,DISC1,EFTFREQ,ETC,FCID,OCC,RCID,RINS,TAMT,TCMT,TSO

	set BRCD=brcdin
	if TRNSET = "BDWCONS" set ERMSG = $$ts1(.ttx(),.PROT,.NETAMTSQ)
	else  if TRNSET = "BGT" set ERMSG = $$ts2(.ttx(),.PROT,.NETAMTSQ)
	else  if TRNSET = "BUILDER" set ERMSG = $$ts3(.ttx(),.PROT,.NETAMTSQ)
	else  if TRNSET = "COMMPO" set ERMSG = $$ts4(.ttx(),.PROT,.NETAMTSQ)
	else  if TRNSET = "DDSL1" set ERMSG = $$ts5(.ttx(),.PROT,.NETAMTSQ)
	else  if TRNSET = "DWEXT" set ERMSG = $$ts6(.ttx(),.PROT,.NETAMTSQ)
	else  if TRNSET = "EXTTRF" set ERMSG = $$ts7(.ttx(),.PROT,.NETAMTSQ)
	else  if TRNSET = "INSAVB" set ERMSG = $$ts8(.ttx(),.PROT,.NETAMTSQ)
	else  if TRNSET = "INSPREP" set ERMSG = $$ts9(.ttx(),.PROT,.NETAMTSQ)
	else  if TRNSET = "LPSL1" set ERMSG = $$ts10(.ttx(),.PROT,.NETAMTSQ)
	else  if TRNSET = "MSCFEEVAT" set ERMSG = $$ts11(.ttx(),.PROT,.NETAMTSQ)
	else  if TRNSET = "MSCFEEVAT1" set ERMSG = $$ts12(.ttx(),.PROT,.NETAMTSQ)
	else  if TRNSET = "RPCWINP" set ERMSG = $$ts13(.ttx(),.PROT,.NETAMTSQ)
	else  if TRNSET = "RPCWIP" set ERMSG = $$ts14(.ttx(),.PROT,.NETAMTSQ)
	else  if TRNSET = "ZCJSC" set ERMSG = $$ts15(.ttx(),.PROT,.NETAMTSQ)
	else  if TRNSET = "ZCJSW" set ERMSG = $$ts16(.ttx(),.PROT,.NETAMTSQ)
	else  if TRNSET = "ZDEB" set ERMSG = $$ts17(.ttx(),.PROT,.NETAMTSQ)
	else  if TRNSET = "ZDSR" set ERMSG = $$ts18(.ttx(),.PROT,.NETAMTSQ)
	else  if TRNSET = "ZDSRX" set ERMSG = $$ts19(.ttx(),.PROT,.NETAMTSQ)
	else  set ERMSG = $$^MSG(7609)		// Invalid value

	if ERMSG.isNull() do {

		// Calculate net amount
		if NETAMTSQ do {

			type Number N = ""
			type Number NETAMT = 0

			for  set N = ttx(N).order() quit:N.isNull()  if N '= NETAMTSQ set NETAMT = NETAMT + ttx(N).tamt

			set ttx(NETAMTSQ).tamt = NETAMT 
		}

		// Convert ttx array to TSSP message
		set return=$$CLOUT^TTXRPC(.ttx())_$$V2LV^MSG(PROT)
	}

	quit ERMSG


BLDTTX(RecordTTX ttx(),Number SEQ)

	type Public String ACH,AMT,BRCD,CC,CID,DISC1,EFTFREQ,ETC,FCID,OCC,RCID,RINS,TAMT,TCMT,TSO

	if TSO.get().isNull() set TSO = "#"
	if TCMT.get().isNull() set TCMT = ""
	if %EffectiveDate.isNull() set %EffectiveDate = %SystemDate

	// TTX^TTXEXT expects OCC for cost center
	if OCC.get().isNull() set OCC = CC.get()

	set ttx(SEQ) = Class.new("RecordTTX")
	do TTX^TTXEXT(.ttx(SEQ))

	// Transaction Source of Funds
	if ttx(SEQ).tso = "#" set ttx(SEQ).tso = ""

	quit


ts1(RecordTTX ttx(),String PROT,Number NETAMTSQ)  // Transaction set BDWCONS

	type Public Number ER
	type Public String RM
	type Public String CID,ETC,TAMT

	type Date %EffectiveDate = ttx(1).efd
	type Number SEQ
	type String ERMSG,SEQPROT,VALUE

	set ERMSG = ""
	set PROT = 0_$C(9)_0_$C(13,10)

	// ----- SEQ=2 ----------
	set SEQ = 2
	set SEQPROT = 0_$C(9)_0

	// SEQ=2 TRNFIELD=CID type=Function
	set VALUE = $$COCDGL^BGTCDI()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set CID = VALUE
	set SEQPROT.piece($C(9),1) = 1		// Turn on CID protection

	// SEQ=2 TRNFIELD=ETC type=Fixed Value
	set ETC = "MCR"

	// SEQ=2 TRNFIELD=TAMT type=Function
	set VALUE = $$TAMT^BGTCDI()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set TAMT = VALUE
	set SEQPROT.piece($C(9),2) = 1		// Turn on TAMT protection

	if TAMT.get()'<0 do {		// Skip if Negative TAMT
		if ETC.get().isNull() set ERMSG = $$^MSG(3113,"ETC")		// Missing ETC
		if CID.get().isNull() set ERMSG = $$^MSG(3113,"CID")		// Missing CID
		if 'ERMSG.isNull() quit ERMSG

		// Only display if not zero
		if (TAMT <> 0) do {
			do BLDTTX(.ttx(),SEQ)		// Add to ttx array

			set PROT = PROT_SEQPROT_$C(13,10)
		}
	}

	quit ""


ts2(RecordTTX ttx(),String PROT,Number NETAMTSQ)  // Transaction set BGT

	type Public Number ER
	type Public String RM
	type Public String CID,ETC,TAMT

	type Date %EffectiveDate = ttx(1).efd
	type Number SEQ
	type String ERMSG,SEQPROT,VALUE

	set ERMSG = ""
	set PROT = 0_$C(9)_0_$C(13,10)

	// ----- SEQ=2 ----------
	set SEQ = 2
	set SEQPROT = 0_$C(9)_0

	// SEQ=2 TRNFIELD=CID type=Function
	set VALUE = $$COCDGL^BGTCDI()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set CID = VALUE
	set SEQPROT.piece($C(9),1) = 1		// Turn on CID protection

	// SEQ=2 TRNFIELD=ETC type=Fixed Value
	set ETC = "MCR"

	// SEQ=2 TRNFIELD=TAMT type=Function
	set VALUE = $$TAMT^BGTCDI()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set TAMT = VALUE
	set SEQPROT.piece($C(9),2) = 1		// Turn on TAMT protection

	if TAMT.get()'<0 do {		// Skip if Negative TAMT
		if ETC.get().isNull() set ERMSG = $$^MSG(3113,"ETC")		// Missing ETC
		if CID.get().isNull() set ERMSG = $$^MSG(3113,"CID")		// Missing CID
		if 'ERMSG.isNull() quit ERMSG

		// Only display if not zero
		if (TAMT <> 0) do {
			do BLDTTX(.ttx(),SEQ)		// Add to ttx array

			set PROT = PROT_SEQPROT_$C(13,10)
		}
	}

	quit ""


ts3(RecordTTX ttx(),String PROT,Number NETAMTSQ)  // Transaction set BUILDER

	type Public Number ER
	type Public String RM
	type Public String CID,ETC,TAMT,TCMT

	type Date %EffectiveDate = ttx(1).efd
	type Number SEQ
	type String ERMSG,SEQPROT,VALUE

	set ERMSG = ""
	set PROT = 0_$C(9)_0_$C(13,10)

	// ----- SEQ=2 ----------
	set SEQ = 2
	set SEQPROT = 0_$C(9)_0

	// SEQ=2 TRNFIELD=CID type=Function
	set VALUE = $$PRAMTCID^COMMPO()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set CID = VALUE
	set SEQPROT.piece($C(9),1) = 1		// Turn on CID protection

	// SEQ=2 TRNFIELD=ETC type=Function
	set VALUE = $$PRAMTETC^COMMPO()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set ETC = VALUE

	// SEQ=2 TRNFIELD=TAMT type=Function
	set VALUE = $$PRAMT^COMMPO()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set TAMT = VALUE
	set SEQPROT.piece($C(9),2) = 1		// Turn on TAMT protection

	// SEQ=2 TRNFIELD=TCMT type=Fixed Value
	set TCMT = "Land Payment"

	if TAMT.get()'<0 do {		// Skip if Negative TAMT
		if ETC.get().isNull() set ERMSG = $$^MSG(3113,"ETC")		// Missing ETC
		if CID.get().isNull() set ERMSG = $$^MSG(3113,"CID")		// Missing CID
		if 'ERMSG.isNull() quit ERMSG

		// Only display if not zero
		if (TAMT <> 0) do {
			do BLDTTX(.ttx(),SEQ)		// Add to ttx array

			set PROT = PROT_SEQPROT_$C(13,10)
		}
	}

	// ----- SEQ=3 ----------
	set SEQ = 3
	set SEQPROT = 0_$C(9)_0

	// SEQ=3 TRNFIELD=CID type=Function
	set VALUE = $$PRCNTCID^COMMPO()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set CID = VALUE
	set SEQPROT.piece($C(9),1) = 1		// Turn on CID protection

	// SEQ=3 TRNFIELD=ETC type=Function
	set VALUE = $$PRCNTETC^COMMPO()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set ETC = VALUE

	// SEQ=3 TRNFIELD=TAMT type=Function
	set VALUE = $$PRCNTAMT^COMMPO()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set TAMT = VALUE
	set SEQPROT.piece($C(9),2) = 1		// Turn on TAMT protection

	// SEQ=3 TRNFIELD=TCMT type=Fixed Value
	set TCMT = "% at Payoff"

	if TAMT.get()'<0 do {		// Skip if Negative TAMT
		if ETC.get().isNull() set ERMSG = $$^MSG(3113,"ETC")		// Missing ETC
		if CID.get().isNull() set ERMSG = $$^MSG(3113,"CID")		// Missing CID
		if 'ERMSG.isNull() quit ERMSG

		// Only display if not zero
		if (TAMT <> 0) do {
			do BLDTTX(.ttx(),SEQ)		// Add to ttx array

			set PROT = PROT_SEQPROT_$C(13,10)
		}
	}

	// ----- SEQ=4 ----------
	set SEQ = 4
	set SEQPROT = 0_$C(9)_0

	// SEQ=4 TRNFIELD=CID type=Function
	set VALUE = $$IRPCID^COMMPO()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set CID = VALUE
	set SEQPROT.piece($C(9),1) = 1		// Turn on CID protection

	// SEQ=4 TRNFIELD=ETC type=Function
	set VALUE = $$IRPETC^COMMPO()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set ETC = VALUE

	// SEQ=4 TRNFIELD=TAMT type=Function
	set VALUE = $$IRPAMT^COMMPO()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set TAMT = VALUE
	set SEQPROT.piece($C(9),2) = 1		// Turn on TAMT protection

	// SEQ=4 TRNFIELD=TCMT type=Fixed Value
	set TCMT = "IR Debit"

	if TAMT.get()'<0 do {		// Skip if Negative TAMT
		if ETC.get().isNull() set ERMSG = $$^MSG(3113,"ETC")		// Missing ETC
		if CID.get().isNull() set ERMSG = $$^MSG(3113,"CID")		// Missing CID
		if 'ERMSG.isNull() quit ERMSG

		// Only display if not zero
		if (TAMT <> 0) do {
			do BLDTTX(.ttx(),SEQ)		// Add to ttx array

			set PROT = PROT_SEQPROT_$C(13,10)
		}
	}

	// ----- SEQ=5 ----------
	set SEQ = 5
	set SEQPROT = 0_$C(9)_0

	// SEQ=5 TRNFIELD=CID type=Fixed Value
	set CID = 10101
	set SEQPROT.piece($C(9),1) = 1		// Turn on CID protection

	// SEQ=5 TRNFIELD=ETC type=Fixed Value
	set ETC = "MCR"

	// SEQ=5 TRNFIELD=TAMT type=Function
	set VALUE = $$MISCAMT^COMMPO(2)
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set TAMT = VALUE
	set SEQPROT.piece($C(9),2) = 1		// Turn on TAMT protection

	// SEQ=5 TRNFIELD=TCMT type=Fixed Value
	set TCMT = "Misc. Credit"

	if TAMT.get()'<0 do {		// Skip if Negative TAMT
		if ETC.get().isNull() set ERMSG = $$^MSG(3113,"ETC")		// Missing ETC
		if CID.get().isNull() set ERMSG = $$^MSG(3113,"CID")		// Missing CID
		if 'ERMSG.isNull() quit ERMSG

		// Only display if not zero
		if (TAMT <> 0) do {
			do BLDTTX(.ttx(),SEQ)		// Add to ttx array

			set PROT = PROT_SEQPROT_$C(13,10)
		}
	}

	quit ""


ts4(RecordTTX ttx(),String PROT,Number NETAMTSQ)  // Transaction set COMMPO

	type Public Number ER
	type Public String RM
	type Public String CID,ETC,TAMT

	type Date %EffectiveDate = ttx(1).efd
	type Number SEQ
	type String ERMSG,SEQPROT,VALUE

	set ERMSG = ""
	set PROT = 0_$C(9)_0_$C(13,10)

	// ----- SEQ=2 ----------
	set SEQ = 2
	type Number I
	for I = 1:1:$$COMMREP^COMMPO do { quit:'ERMSG.isNull()

		set SEQPROT = 0_$C(9)_0

		// SEQ=2 TRNFIELD=CID type=Function
		set VALUE = $$COMMCID^COMMPO()
		if ER.get() do { quit
			if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
			else  set ERMSG=RM
		}
		set CID = VALUE

		// SEQ=2 TRNFIELD=ETC type=Function
		set VALUE = $$COMMETC^COMMPO()
		if ER.get() do { quit
			if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
			else  set ERMSG=RM
		}
		set ETC = VALUE

		// SEQ=2 TRNFIELD=TAMT type=Function
		set VALUE = $$COMMAMT^COMMPO()
		if ER.get() do { quit
			if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
			else  set ERMSG=RM
		}
		set TAMT = VALUE

		if TAMT.get()'<0 do {		// Skip if Negative TAMT
			if ETC.get().isNull() set ERMSG = $$^MSG(3113,"ETC")		// Missing ETC
			if CID.get().isNull() set ERMSG = $$^MSG(3113,"CID")		// Missing CID
			quit:'ERMSG.isNull()

			// Only display if not zero
			if (TAMT <> 0) do {
				do BLDTTX(.ttx(),SEQ)		// Add to ttx array

				set PROT = PROT_SEQPROT_$C(13,10)
				set SEQ = SEQ + .01
			}
		}
	}

	if 'ERMSG.isNull() quit ERMSG

	quit ""


ts5(RecordTTX ttx(),String PROT,Number NETAMTSQ)  // Transaction set DDSL1

	type Public Number ER
	type Public String RM
	type Public String CID,ETC,TAMT,TCMT

	type Date %EffectiveDate = ttx(1).efd
	type Number SEQ
	type String ERMSG,SEQPROT,VALUE

	set ERMSG = ""
	set PROT = 0_$C(9)_0_$C(13,10)

	// ----- SEQ=2 ----------
	set SEQ = 2
	set SEQPROT = 0_$C(9)_0

	// SEQ=2 TRNFIELD=CID type=Fixed Value
	set CID = 11110
	set SEQPROT.piece($C(9),1) = 1		// Turn on CID protection

	// SEQ=2 TRNFIELD=ETC type=Fixed Value
	set ETC = "CI"

	// SEQ=2 TRNFIELD=TAMT type=table.column
	set TAMT = ttx(1).TAMT
	set SEQPROT.piece($C(9),2) = 1		// Turn on TAMT protection

	// SEQ=2 TRNFIELD=TCMT type=Fixed Value
	set TCMT = "IT WORKS"

	if TAMT.get()'<0 do {		// Skip if Negative TAMT
		if ETC.get().isNull() set ERMSG = $$^MSG(3113,"ETC")		// Missing ETC
		if CID.get().isNull() set ERMSG = $$^MSG(3113,"CID")		// Missing CID
		if 'ERMSG.isNull() quit ERMSG

		// Only display if not zero
		if (TAMT <> 0) do {
			do BLDTTX(.ttx(),SEQ)		// Add to ttx array

			set PROT = PROT_SEQPROT_$C(13,10)
		}
	}

	quit ""


ts6(RecordTTX ttx(),String PROT,Number NETAMTSQ)  // Transaction set DWEXT

	type Public Number ER
	type Public String RM
	type Public String CC,CID,ETC,FCID,RCID,RINS,TAMT,TSO

	type Date %EffectiveDate = ttx(1).efd
	type Number SEQ
	type String ERMSG,SEQPROT,VALUE

	set ERMSG = ""
	set PROT = 0_$C(9)_0_$C(13,10)

	// ----- SEQ=2 ----------
	set SEQ = 2
	set SEQPROT = 0_$C(9)_0

	// SEQ=2 TRNFIELD=CC type=TSO
	set VALUE = $$FIELD^UTSO(ttx(1).tso,"CC")
	set CC = VALUE

	// SEQ=2 TRNFIELD=CID type=Fixed Value
	set CID = 11080
	set SEQPROT.piece($C(9),1) = 1		// Turn on CID protection

	// SEQ=2 TRNFIELD=ETC type=Fixed Value
	set ETC = "EXTCRP"

	// SEQ=2 TRNFIELD=FCID type=table.column
	set FCID = ttx(1).CID
	set TSO=$$FIELDIN^UTSO(TSO.get(),"FCID",FCID)

	// SEQ=2 TRNFIELD=RCID type=Fixed Value
	set TSO=$$FIELDIN^UTSO(TSO.get(),"RCID","RCID")

	// SEQ=2 TRNFIELD=RINS type=TSO
	set VALUE = $$FIELD^UTSO(ttx(1).tso,"RINS")
	set TSO = $$FIELDIN^UTSO(TSO.get(),"RINS",VALUE)

	// SEQ=2 TRNFIELD=TAMT type=table.column
	set TAMT = ttx(1).TAMT
	set SEQPROT.piece($C(9),2) = 1		// Turn on TAMT protection

	if TAMT.get()'<0 do {		// Skip if Negative TAMT
		if ETC.get().isNull() set ERMSG = $$^MSG(3113,"ETC")		// Missing ETC
		if CID.get().isNull() set ERMSG = $$^MSG(3113,"CID")		// Missing CID
		if 'ERMSG.isNull() quit ERMSG

		// Only display if not zero
		if (TAMT <> 0) do {
			do BLDTTX(.ttx(),SEQ)		// Add to ttx array

			set PROT = PROT_SEQPROT_$C(13,10)
		}
	}

	quit ""


ts7(RecordTTX ttx(),String PROT,Number NETAMTSQ)  // Transaction set EXTTRF

	type Public Number ER
	type Public String RM
	type Public String CID,EFTFREQ,ETC,FCID,RCID,RINS,TAMT,TSO

	type Date %EffectiveDate = ttx(1).efd
	type Number SEQ
	type String ERMSG,SEQPROT,VALUE

	set ERMSG = ""
	set PROT = 0_$C(9)_0_$C(13,10)

	// ----- SEQ=2 ----------
	set SEQ = 2
	set SEQPROT = 0_$C(9)_0

	// SEQ=2 TRNFIELD=CID type=Fixed Value
	set CID = 11110
	set SEQPROT.piece($C(9),1) = 1		// Turn on CID protection

	// SEQ=2 TRNFIELD=EFTFREQ type=TSO
	set VALUE = $$FIELD^UTSO(ttx(1).tso,"EFTFREQ")
	set TSO = $$FIELDIN^UTSO(TSO.get(),"EFTFREQ",VALUE)

	// SEQ=2 TRNFIELD=ETC type=Fixed Value
	set ETC = "EXTCRP"

	// SEQ=2 TRNFIELD=FCID type=table.column
	set FCID = ttx(1).CID
	set TSO=$$FIELDIN^UTSO(TSO.get(),"FCID",FCID)

	// SEQ=2 TRNFIELD=RCID type=TSO
	set VALUE = $$FIELD^UTSO(ttx(1).tso,"RCID")
	set TSO = $$FIELDIN^UTSO(TSO.get(),"RCID",VALUE)

	// SEQ=2 TRNFIELD=RINS type=TSO
	set VALUE = $$FIELD^UTSO(ttx(1).tso,"RINS")
	set TSO = $$FIELDIN^UTSO(TSO.get(),"RINS",VALUE)

	// SEQ=2 TRNFIELD=TAMT type=table.column
	set TAMT = ttx(1).TAMT
	set SEQPROT.piece($C(9),2) = 1		// Turn on TAMT protection

	if TAMT.get()'<0 do {		// Skip if Negative TAMT
		if ETC.get().isNull() set ERMSG = $$^MSG(3113,"ETC")		// Missing ETC
		if CID.get().isNull() set ERMSG = $$^MSG(3113,"CID")		// Missing CID
		if 'ERMSG.isNull() quit ERMSG

		// Only display if not zero
		if (TAMT <> 0) do {
			do BLDTTX(.ttx(),SEQ)		// Add to ttx array

			set PROT = PROT_SEQPROT_$C(13,10)
		}
	}

	quit ""


ts8(RecordTTX ttx(),String PROT,Number NETAMTSQ)  // Transaction set INSAVB

	type Public Number ER
	type Public String RM
	type Public String CID,ETC,TAMT

	type Date %EffectiveDate = ttx(1).efd
	type Number SEQ
	type String ERMSG,SEQPROT,VALUE

	set ERMSG = ""
	set PROT = 0_$C(9)_0_$C(13,10)

	// ----- SEQ=2 ----------
	set SEQ = 2
	set SEQPROT = 0_$C(9)_0

	// SEQ=2 TRNFIELD=CID type=Function
	set VALUE = $$GTGL^PROCINS()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set CID = VALUE
	set SEQPROT.piece($C(9),1) = 1		// Turn on CID protection

	// SEQ=2 TRNFIELD=ETC type=Fixed Value
	set ETC = "MCR"

	// SEQ=2 TRNFIELD=TAMT type=Function
	set VALUE = $$GTAMT^PROCINS()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set TAMT = VALUE
	set SEQPROT.piece($C(9),2) = 1		// Turn on TAMT protection

	if TAMT.get()'<0 do {		// Skip if Negative TAMT
		if ETC.get().isNull() set ERMSG = $$^MSG(3113,"ETC")		// Missing ETC
		if CID.get().isNull() set ERMSG = $$^MSG(3113,"CID")		// Missing CID
		if 'ERMSG.isNull() quit ERMSG

		// Only display if not zero
		if (TAMT <> 0) do {
			do BLDTTX(.ttx(),SEQ)		// Add to ttx array

			set PROT = PROT_SEQPROT_$C(13,10)
		}
	}

	// ----- SEQ=3 ----------
	set SEQ = 3
	set SEQPROT = 0_$C(9)_0

	// SEQ=3 TRNFIELD=CID type=Function
	set VALUE = $$COMMGL1^PROCINS()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set CID = VALUE

	// SEQ=3 TRNFIELD=ETC type=Fixed Value
	set ETC = "MCR"

	// SEQ=3 TRNFIELD=TAMT type=Function
	set VALUE = $$COMMAMT1^PROCINS()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set TAMT = VALUE

	if TAMT.get()'<0 do {		// Skip if Negative TAMT
		if ETC.get().isNull() set ERMSG = $$^MSG(3113,"ETC")		// Missing ETC
		if CID.get().isNull() set ERMSG = $$^MSG(3113,"CID")		// Missing CID
		if 'ERMSG.isNull() quit ERMSG

		// Only display if not zero
		if (TAMT <> 0) do {
			do BLDTTX(.ttx(),SEQ)		// Add to ttx array

			set PROT = PROT_SEQPROT_$C(13,10)
		}
	}

	// ----- SEQ=4 ----------
	set SEQ = 4
	set SEQPROT = 0_$C(9)_0

	// SEQ=4 TRNFIELD=CID type=Function
	set VALUE = $$COMMGL2^PROCINS()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set CID = VALUE

	// SEQ=4 TRNFIELD=ETC type=Fixed Value
	set ETC = "MCR"

	// SEQ=4 TRNFIELD=TAMT type=Function
	set VALUE = $$COMMAMT2^PROCINS()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set TAMT = VALUE

	if TAMT.get()'<0 do {		// Skip if Negative TAMT
		if ETC.get().isNull() set ERMSG = $$^MSG(3113,"ETC")		// Missing ETC
		if CID.get().isNull() set ERMSG = $$^MSG(3113,"CID")		// Missing CID
		if 'ERMSG.isNull() quit ERMSG

		// Only display if not zero
		if (TAMT <> 0) do {
			do BLDTTX(.ttx(),SEQ)		// Add to ttx array

			set PROT = PROT_SEQPROT_$C(13,10)
		}
	}

	// ----- SEQ=5 ----------
	set SEQ = 5
	set SEQPROT = 0_$C(9)_0

	// SEQ=5 TRNFIELD=CID type=Function
	set VALUE = $$PPGLACCT^PROCINS()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set CID = VALUE

	// SEQ=5 TRNFIELD=ETC type=Fixed Value
	set ETC = "MCR"

	// SEQ=5 TRNFIELD=TAMT type=Function
	set VALUE = $$PPAMT^PROCINS()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set TAMT = VALUE

	if TAMT.get()'<0 do {		// Skip if Negative TAMT
		if ETC.get().isNull() set ERMSG = $$^MSG(3113,"ETC")		// Missing ETC
		if CID.get().isNull() set ERMSG = $$^MSG(3113,"CID")		// Missing CID
		if 'ERMSG.isNull() quit ERMSG

		// Only display if not zero
		if (TAMT <> 0) do {
			do BLDTTX(.ttx(),SEQ)		// Add to ttx array

			set PROT = PROT_SEQPROT_$C(13,10)
		}
	}

	quit ""


ts9(RecordTTX ttx(),String PROT,Number NETAMTSQ)  // Transaction set INSPREP

	type Public Number ER
	type Public String RM
	type Public String AMT,CID,ETC,TAMT,TSO

	type Date %EffectiveDate = ttx(1).efd
	type Number SEQ
	type String ERMSG,SEQPROT,VALUE

	set ERMSG = ""
	set PROT = 0_$C(9)_0_$C(13,10)

	// ----- SEQ=2 ----------
	set SEQ = 2
	set SEQPROT = 0_$C(9)_0

	// SEQ=2 TRNFIELD=AMT type=table.column
	set AMT = ttx(1).TAMT
	set TSO=$$FIELDIN^UTSO(TSO.get(),"AMT",AMT)

	// SEQ=2 TRNFIELD=CID type=Function
	set VALUE = $$GTGL^PROCINS()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set CID = VALUE
	set SEQPROT.piece($C(9),1) = 1		// Turn on CID protection

	// SEQ=2 TRNFIELD=ETC type=Fixed Value
	set ETC = "MCR"

	// SEQ=2 TRNFIELD=TAMT type=Function
	set VALUE = $$GTAMT^PROCINS()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set TAMT = VALUE
	set SEQPROT.piece($C(9),2) = 1		// Turn on TAMT protection

	if TAMT.get()'<0 do {		// Skip if Negative TAMT
		if ETC.get().isNull() set ERMSG = $$^MSG(3113,"ETC")		// Missing ETC
		if CID.get().isNull() set ERMSG = $$^MSG(3113,"CID")		// Missing CID
		if 'ERMSG.isNull() quit ERMSG

		// Only display if not zero
		if (TAMT <> 0) do {
			do BLDTTX(.ttx(),SEQ)		// Add to ttx array

			set PROT = PROT_SEQPROT_$C(13,10)
		}
	}

	// ----- SEQ=3 ----------
	set SEQ = 3
	set SEQPROT = 0_$C(9)_0

	// SEQ=3 TRNFIELD=AMT type=table.column
	set AMT = ttx(1).TAMT
	set TSO=$$FIELDIN^UTSO(TSO.get(),"AMT",AMT)

	// SEQ=3 TRNFIELD=CID type=Function
	set VALUE = $$COMMGL1^PROCINS()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set CID = VALUE

	// SEQ=3 TRNFIELD=ETC type=Fixed Value
	set ETC = "MCR"

	// SEQ=3 TRNFIELD=TAMT type=Function
	set VALUE = $$COMMAMT1^PROCINS()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set TAMT = VALUE

	if TAMT.get()'<0 do {		// Skip if Negative TAMT
		if ETC.get().isNull() set ERMSG = $$^MSG(3113,"ETC")		// Missing ETC
		if CID.get().isNull() set ERMSG = $$^MSG(3113,"CID")		// Missing CID
		if 'ERMSG.isNull() quit ERMSG

		// Only display if not zero
		if (TAMT <> 0) do {
			do BLDTTX(.ttx(),SEQ)		// Add to ttx array

			set PROT = PROT_SEQPROT_$C(13,10)
		}
	}

	// ----- SEQ=4 ----------
	set SEQ = 4
	set SEQPROT = 0_$C(9)_0

	// SEQ=4 TRNFIELD=AMT type=table.column
	set AMT = ttx(1).TAMT
	set TSO=$$FIELDIN^UTSO(TSO.get(),"AMT",AMT)

	// SEQ=4 TRNFIELD=CID type=Function
	set VALUE = $$COMMGL2^PROCINS()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set CID = VALUE
	set SEQPROT.piece($C(9),1) = 1		// Turn on CID protection

	// SEQ=4 TRNFIELD=ETC type=Fixed Value
	set ETC = "MCR"

	// SEQ=4 TRNFIELD=TAMT type=Function
	set VALUE = $$COMMAMT2^PROCINS()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set TAMT = VALUE
	set SEQPROT.piece($C(9),2) = 1		// Turn on TAMT protection

	if TAMT.get()'<0 do {		// Skip if Negative TAMT
		if ETC.get().isNull() set ERMSG = $$^MSG(3113,"ETC")		// Missing ETC
		if CID.get().isNull() set ERMSG = $$^MSG(3113,"CID")		// Missing CID
		if 'ERMSG.isNull() quit ERMSG

		// Only display if not zero
		if (TAMT <> 0) do {
			do BLDTTX(.ttx(),SEQ)		// Add to ttx array

			set PROT = PROT_SEQPROT_$C(13,10)
		}
	}

	// ----- SEQ=5 ----------
	set SEQ = 5
	set SEQPROT = 0_$C(9)_0

	// SEQ=5 TRNFIELD=CID type=Function
	set VALUE = $$PPGLACCT^PROCINS()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set CID = VALUE

	// SEQ=5 TRNFIELD=ETC type=Fixed Value
	set ETC = "MCR"

	// SEQ=5 TRNFIELD=TAMT type=Function
	set VALUE = $$PPAMT^PROCINS()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set TAMT = VALUE

	if TAMT.get()'<0 do {		// Skip if Negative TAMT
		if ETC.get().isNull() set ERMSG = $$^MSG(3113,"ETC")		// Missing ETC
		if CID.get().isNull() set ERMSG = $$^MSG(3113,"CID")		// Missing CID
		if 'ERMSG.isNull() quit ERMSG

		// Only display if not zero
		if (TAMT <> 0) do {
			do BLDTTX(.ttx(),SEQ)		// Add to ttx array

			set PROT = PROT_SEQPROT_$C(13,10)
		}
	}

	quit ""


ts10(RecordTTX ttx(),String PROT,Number NETAMTSQ)  // Transaction set LPSL1

	type Public Number ER
	type Public String RM
	type Public String CID,ETC,TAMT

	type Date %EffectiveDate = ttx(1).efd
	type Number SEQ
	type String ERMSG,SEQPROT,VALUE

	set ERMSG = ""
	set PROT = 0_$C(9)_0_$C(13,10)

	// ----- SEQ=2 ----------
	set SEQ = 2
	set SEQPROT = 0_$C(9)_0

	// SEQ=2 TRNFIELD=CID type=Fixed Value
	set CID = 11110
	set SEQPROT.piece($C(9),1) = 1		// Turn on CID protection

	// SEQ=2 TRNFIELD=ETC type=Fixed Value
	set ETC = "CI"

	// SEQ=2 TRNFIELD=TAMT type=table.column
	set TAMT = ttx(1).TAMT
	set SEQPROT.piece($C(9),2) = 1		// Turn on TAMT protection

	if TAMT.get()'<0 do {		// Skip if Negative TAMT
		if ETC.get().isNull() set ERMSG = $$^MSG(3113,"ETC")		// Missing ETC
		if CID.get().isNull() set ERMSG = $$^MSG(3113,"CID")		// Missing CID
		if 'ERMSG.isNull() quit ERMSG

		// Only display if not zero
		if (TAMT <> 0) do {
			do BLDTTX(.ttx(),SEQ)		// Add to ttx array

			set PROT = PROT_SEQPROT_$C(13,10)
		}
	}

	quit ""


ts11(RecordTTX ttx(),String PROT,Number NETAMTSQ)  // Transaction set MSCFEEVAT

	type Public Number ER
	type Public String RM
	type Public String CID,ETC,TAMT

	type Date %EffectiveDate = ttx(1).efd
	type Number SEQ
	type String ERMSG,SEQPROT,VALUE

	set ERMSG = ""
	set PROT = 0_$C(9)_0_$C(13,10)

	// ----- SEQ=2 ----------
	set SEQ = 2
	set SEQPROT = 0_$C(9)_0

	// SEQ=2 TRNFIELD=CID type=Fixed Value
	set CID = 44203
	set SEQPROT.piece($C(9),1) = 1		// Turn on CID protection

	// SEQ=2 TRNFIELD=ETC type=Fixed Value
	set ETC = "MCR"

	// SEQ=2 TRNFIELD=TAMT type=Function
	set VALUE = $$VATAMT^VATCALC()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set TAMT = VALUE
	set SEQPROT.piece($C(9),2) = 1		// Turn on TAMT protection

	if TAMT.get()'<0 do {		// Skip if Negative TAMT
		if ETC.get().isNull() set ERMSG = $$^MSG(3113,"ETC")		// Missing ETC
		if CID.get().isNull() set ERMSG = $$^MSG(3113,"CID")		// Missing CID
		if 'ERMSG.isNull() quit ERMSG

		// Only display if not zero
		if (TAMT <> 0) do {
			do BLDTTX(.ttx(),SEQ)		// Add to ttx array

			set PROT = PROT_SEQPROT_$C(13,10)
		}
	}

	quit ""


ts12(RecordTTX ttx(),String PROT,Number NETAMTSQ)  // Transaction set MSCFEEVAT1

	type Public Number ER
	type Public String RM
	type Public String CID,ETC,TAMT

	type Date %EffectiveDate = ttx(1).efd
	type Number SEQ
	type String ERMSG,SEQPROT,VALUE

	set ERMSG = ""
	set PROT = 0_$C(9)_0_$C(13,10)

	// ----- SEQ=2 ----------
	set SEQ = 2
	set SEQPROT = 0_$C(9)_0

	// SEQ=2 TRNFIELD=CID type=Fixed Value
	set CID = 44203
	set SEQPROT.piece($C(9),1) = 1		// Turn on CID protection

	// SEQ=2 TRNFIELD=ETC type=Fixed Value
	set ETC = "MCR"

	// SEQ=2 TRNFIELD=TAMT type=Function
	set VALUE = $$VATAMT^VATCALC()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set TAMT = VALUE
	set SEQPROT.piece($C(9),2) = 1		// Turn on TAMT protection

	if TAMT.get()'<0 do {		// Skip if Negative TAMT
		if ETC.get().isNull() set ERMSG = $$^MSG(3113,"ETC")		// Missing ETC
		if CID.get().isNull() set ERMSG = $$^MSG(3113,"CID")		// Missing CID
		if 'ERMSG.isNull() quit ERMSG

		// Only display if not zero
		if (TAMT <> 0) do {
			do BLDTTX(.ttx(),SEQ)		// Add to ttx array

			set PROT = PROT_SEQPROT_$C(13,10)
		}
	}

	quit ""


ts13(RecordTTX ttx(),String PROT,Number NETAMTSQ)  // Transaction set RPCWINP

	type Public Number ER
	type Public String RM
	type Public String CID,ETC,TAMT

	type Date %EffectiveDate = ttx(1).efd
	type Number SEQ
	type String ERMSG,SEQPROT,VALUE

	set ERMSG = ""
	set PROT = 0_$C(9)_0_$C(13,10)

	// ----- SEQ=2 ----------
	set SEQ = 2
	type Number I
	for I = 1:1:$$REPEAT^IRACLOUT do { quit:'ERMSG.isNull()

		set SEQPROT = 0_$C(9)_0

		// SEQ=2 TRNFIELD=CID type=Function
		set VALUE = $$IRACID^IRACLOUT()
		if ER.get() do { quit
			if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
			else  set ERMSG=RM
		}
		set CID = VALUE
		set SEQPROT.piece($C(9),1) = 1		// Turn on CID protection

		// SEQ=2 TRNFIELD=ETC type=Function
		set VALUE = $$TRNNP^IRACLOUT()
		if ER.get() do { quit
			if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
			else  set ERMSG=RM
		}
		set ETC = VALUE

		// SEQ=2 TRNFIELD=TAMT type=Function
		set VALUE = $$TAMTNP^IRACLOUT()
		if ER.get() do { quit
			if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
			else  set ERMSG=RM
		}
		set TAMT = VALUE
		set SEQPROT.piece($C(9),2) = 1		// Turn on TAMT protection

		if TAMT.get()'<0 do {		// Skip if Negative TAMT
			if ETC.get().isNull() set ERMSG = $$^MSG(3113,"ETC")		// Missing ETC
			if CID.get().isNull() set ERMSG = $$^MSG(3113,"CID")		// Missing CID
			quit:'ERMSG.isNull()

			// Only display if not zero
			if (TAMT <> 0) do {
				do BLDTTX(.ttx(),SEQ)		// Add to ttx array

				set PROT = PROT_SEQPROT_$C(13,10)
				set SEQ = SEQ + .01
			}
		}
	}

	if 'ERMSG.isNull() quit ERMSG

	quit ""


ts14(RecordTTX ttx(),String PROT,Number NETAMTSQ)  // Transaction set RPCWIP

	type Public Number ER
	type Public String RM
	type Public String CID,ETC,TAMT

	type Date %EffectiveDate = ttx(1).efd
	type Number SEQ
	type String ERMSG,SEQPROT,VALUE

	set ERMSG = ""
	set PROT = 0_$C(9)_0_$C(13,10)

	// ----- SEQ=2 ----------
	set SEQ = 2
	type Number I
	for I = 1:1:$$REPEAT^IRACLOUT do { quit:'ERMSG.isNull()

		set SEQPROT = 0_$C(9)_0

		// SEQ=2 TRNFIELD=CID type=Function
		set VALUE = $$IRACID^IRACLOUT()
		if ER.get() do { quit
			if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
			else  set ERMSG=RM
		}
		set CID = VALUE
		set SEQPROT.piece($C(9),1) = 1		// Turn on CID protection

		// SEQ=2 TRNFIELD=ETC type=Function
		set VALUE = $$TRNWP^IRACLOUT()
		if ER.get() do { quit
			if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
			else  set ERMSG=RM
		}
		set ETC = VALUE

		// SEQ=2 TRNFIELD=TAMT type=Function
		set VALUE = $$TAMTWP^IRACLOUT()
		if ER.get() do { quit
			if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
			else  set ERMSG=RM
		}
		set TAMT = VALUE
		set SEQPROT.piece($C(9),2) = 1		// Turn on TAMT protection

		if TAMT.get()'<0 do {		// Skip if Negative TAMT
			if ETC.get().isNull() set ERMSG = $$^MSG(3113,"ETC")		// Missing ETC
			if CID.get().isNull() set ERMSG = $$^MSG(3113,"CID")		// Missing CID
			quit:'ERMSG.isNull()

			// Only display if not zero
			if (TAMT <> 0) do {
				do BLDTTX(.ttx(),SEQ)		// Add to ttx array

				set PROT = PROT_SEQPROT_$C(13,10)
				set SEQ = SEQ + .01
			}
		}
	}

	if 'ERMSG.isNull() quit ERMSG

	quit ""


ts15(RecordTTX ttx(),String PROT,Number NETAMTSQ)  // Transaction set ZCJSC

	type Public Number ER
	type Public String RM
	type Public String CID,ETC,TAMT

	type Date %EffectiveDate = ttx(1).efd
	type Number SEQ
	type String ERMSG,SEQPROT,VALUE

	set ERMSG = ""
	set PROT = 0_$C(9)_0_$C(13,10)

	// ----- SEQ=2 ----------
	set SEQ = 2
	set SEQPROT = 0_$C(9)_0

	// SEQ=2 TRNFIELD=CID type=Function
	set VALUE = $$LOANCID^LNPTDPW()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set CID = VALUE

	// SEQ=2 TRNFIELD=ETC type=Function
	set VALUE = $$ETCPDC^LNPTDPW()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set ETC = VALUE

	// SEQ=2 TRNFIELD=TAMT type=Function
	set VALUE = $$AMTPDC^LNPTDPW()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set TAMT = VALUE

	if TAMT.get()'<0 do {		// Skip if Negative TAMT
		if ETC.get().isNull() set ERMSG = $$^MSG(3113,"ETC")		// Missing ETC
		if CID.get().isNull() set ERMSG = $$^MSG(3113,"CID")		// Missing CID
		if 'ERMSG.isNull() quit ERMSG

		// Only display if not zero
		if (TAMT <> 0) do {
			do BLDTTX(.ttx(),SEQ)		// Add to ttx array

			set PROT = PROT_SEQPROT_$C(13,10)
		}
	}

	// ----- SEQ=3 ----------
	set SEQ = 3
	set SEQPROT = 0_$C(9)_0

	// SEQ=3 TRNFIELD=CID type=Function
	set VALUE = $$DPPYCID^LNPTDPW()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set CID = VALUE

	// SEQ=3 TRNFIELD=ETC type=Function
	set VALUE = $$ETCDPDC^LNPTDPW()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set ETC = VALUE

	// SEQ=3 TRNFIELD=TAMT type=Function
	set VALUE = $$AMTDPDC^LNPTDPW()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set TAMT = VALUE

	if TAMT.get()'<0 do {		// Skip if Negative TAMT
		if ETC.get().isNull() set ERMSG = $$^MSG(3113,"ETC")		// Missing ETC
		if CID.get().isNull() set ERMSG = $$^MSG(3113,"CID")		// Missing CID
		if 'ERMSG.isNull() quit ERMSG

		// Only display if not zero
		if (TAMT <> 0) do {
			do BLDTTX(.ttx(),SEQ)		// Add to ttx array

			set PROT = PROT_SEQPROT_$C(13,10)
		}
	}

	quit ""


ts16(RecordTTX ttx(),String PROT,Number NETAMTSQ)  // Transaction set ZCJSW

	type Public Number ER
	type Public String RM
	type Public String CID,ETC,TAMT

	type Date %EffectiveDate = ttx(1).efd
	type Number SEQ
	type String ERMSG,SEQPROT,VALUE

	set ERMSG = ""
	set PROT = 0_$C(9)_0_$C(13,10)

	// ----- SEQ=2 ----------
	set SEQ = 2
	set SEQPROT = 0_$C(9)_0

	// SEQ=2 TRNFIELD=CID type=Function
	set VALUE = $$LOANCID^LNPTDPW()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set CID = VALUE

	// SEQ=2 TRNFIELD=ETC type=Function
	set VALUE = $$ETCPDW^LNPTDPW()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set ETC = VALUE

	// SEQ=2 TRNFIELD=TAMT type=Function
	set VALUE = $$AMTPDW^LNPTDPW()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set TAMT = VALUE

	if TAMT.get()'<0 do {		// Skip if Negative TAMT
		if ETC.get().isNull() set ERMSG = $$^MSG(3113,"ETC")		// Missing ETC
		if CID.get().isNull() set ERMSG = $$^MSG(3113,"CID")		// Missing CID
		if 'ERMSG.isNull() quit ERMSG

		// Only display if not zero
		if (TAMT <> 0) do {
			do BLDTTX(.ttx(),SEQ)		// Add to ttx array

			set PROT = PROT_SEQPROT_$C(13,10)
		}
	}

	// ----- SEQ=3 ----------
	set SEQ = 3
	set SEQPROT = 0_$C(9)_0

	// SEQ=3 TRNFIELD=CID type=Function
	set VALUE = $$DPPYCID^LNPTDPW()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set CID = VALUE

	// SEQ=3 TRNFIELD=ETC type=Function
	set VALUE = $$ETCDPDW^LNPTDPW()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set ETC = VALUE

	// SEQ=3 TRNFIELD=TAMT type=Function
	set VALUE = $$AMTDPDW^LNPTDPW()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set TAMT = VALUE

	if TAMT.get()'<0 do {		// Skip if Negative TAMT
		if ETC.get().isNull() set ERMSG = $$^MSG(3113,"ETC")		// Missing ETC
		if CID.get().isNull() set ERMSG = $$^MSG(3113,"CID")		// Missing CID
		if 'ERMSG.isNull() quit ERMSG

		// Only display if not zero
		if (TAMT <> 0) do {
			do BLDTTX(.ttx(),SEQ)		// Add to ttx array

			set PROT = PROT_SEQPROT_$C(13,10)
		}
	}

	quit ""


ts17(RecordTTX ttx(),String PROT,Number NETAMTSQ)  // Transaction set ZDEB

	type Public Number ER
	type Public String RM
	type Public String CID,ETC,TAMT

	type Date %EffectiveDate = ttx(1).efd
	type Number SEQ
	type String ERMSG,SEQPROT,VALUE

	set ERMSG = ""
	set PROT = 0_$C(9)_0_$C(13,10)

	// ----- SEQ=2 ----------
	set SEQ = 2
	set SEQPROT = 0_$C(9)_0

	// SEQ=2 TRNFIELD=CID type=Function
	set VALUE = $$LOANCID^LNPTDPW()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set CID = VALUE
	set SEQPROT.piece($C(9),1) = 1		// Turn on CID protection

	// SEQ=2 TRNFIELD=ETC type=Function
	set VALUE = $$LOANCID^LNPTDPW()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set ETC = VALUE

	// SEQ=2 TRNFIELD=TAMT type=Function
	set VALUE = $$AMTPDC^LNPTDPW()
	if ER.get() do { quit ERMSG
		if RM.get().isNull() set ERMSG = $$^MSG(7599)		// Function not executed
		else  set ERMSG=RM
	}
	set TAMT = VALUE
	set SEQPROT.piece($C(9),2) = 1		// Turn on TAMT protection

	if TAMT.get()'<0 do {		// Skip if Negative TAMT
		if ETC.get().isNull() set ERMSG = $$^MSG(3113,"ETC")		// Missing ETC
		if CID.get().isNull() set ERMSG = $$^MSG(3113,"CID")		// Missing CID
		if 'ERMSG.isNull() quit ERMSG

		// Only display if not zero
		if (TAMT <> 0) do {
			do BLDTTX(.ttx(),SEQ)		// Add to ttx array

			set PROT = PROT_SEQPROT_$C(13,10)
		}
	}

	quit ""


ts18(RecordTTX ttx(),String PROT,Number NETAMTSQ)  // Transaction set ZDSR

	type Public Number ER
	type Public String RM
	type Public String ACH,CID,DISC1,ETC,TAMT,TSO

	type Date %EffectiveDate = ttx(1).efd
	type Number SEQ
	type String ERMSG,SEQPROT,VALUE

	set ERMSG = ""
	set PROT = 0_$C(9)_0_$C(13,10)

	// ----- SEQ=2 ----------
	set SEQ = 2
	set SEQPROT = 0_$C(9)_0

	// SEQ=2 TRNFIELD=ACH type=Date
	set TSO=$$FIELDIN^UTSO(TSO.get(),"ACH",%SystemDate)

	// SEQ=2 TRNFIELD=CID type=table.column
	set CID = ttx(1).CID
	set SEQPROT.piece($C(9),1) = 1		// Turn on CID protection

	// SEQ=2 TRNFIELD=DISC1 type=TSO
	set VALUE = $$FIELD^UTSO(ttx(1).tso,"CK")
	set DISC1 = VALUE

	// SEQ=2 TRNFIELD=ETC type=Fixed Value
	set ETC = "DW"

	// SEQ=2 TRNFIELD=TAMT type=Fixed Value
	set TAMT = 0
	set SEQPROT.piece($C(9),2) = 1		// Turn on TAMT protection

	if TAMT.get()'<0 do {		// Skip if Negative TAMT
		if ETC.get().isNull() set ERMSG = $$^MSG(3113,"ETC")		// Missing ETC
		if CID.get().isNull() set ERMSG = $$^MSG(3113,"CID")		// Missing CID
		if 'ERMSG.isNull() quit ERMSG

		// Only display if not zero
		if (TAMT <> 0) do {
			do BLDTTX(.ttx(),SEQ)		// Add to ttx array

			set PROT = PROT_SEQPROT_$C(13,10)
		}
	}

	quit ""


ts19(RecordTTX ttx(),String PROT,Number NETAMTSQ)  // Transaction set ZDSRX

	type Public Number ER
	type Public String RM
	type Public String AMT,CID,ETC,TAMT,TSO

	type Date %EffectiveDate = ttx(1).efd
	type Number SEQ
	type String ERMSG,SEQPROT,VALUE

	set ERMSG = ""
	set PROT = 0_$C(9)_0_$C(13,10)

	// ----- SEQ=2 ----------
	set SEQ = 2
	set SEQPROT = 0_$C(9)_0

	// SEQ=2 TRNFIELD=AMT type=Fixed Value
	set TSO=$$FIELDIN^UTSO(TSO.get(),"AMT",4)

	// SEQ=2 TRNFIELD=CID type=Fixed Value
	set CID = 1
	set SEQPROT.piece($C(9),1) = 1		// Turn on CID protection

	// SEQ=2 TRNFIELD=ETC type=Fixed Value
	set ETC = "DW"

	// SEQ=2 TRNFIELD=TAMT type=Fixed Value
	set TAMT = 34.56
	set SEQPROT.piece($C(9),2) = 1		// Turn on TAMT protection

	if TAMT.get()'<0 do {		// Skip if Negative TAMT
		if ETC.get().isNull() set ERMSG = $$^MSG(3113,"ETC")		// Missing ETC
		if CID.get().isNull() set ERMSG = $$^MSG(3113,"CID")		// Missing CID
		if 'ERMSG.isNull() quit ERMSG

		// Only display if not zero
		if (TAMT <> 0) do {
			do BLDTTX(.ttx(),SEQ)		// Add to ttx array

			set PROT = PROT_SEQPROT_$C(13,10)
		}
	}

	quit ""
