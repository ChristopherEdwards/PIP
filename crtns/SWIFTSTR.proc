SWIFTSTR	//;IBS -  - V4.4 - PROFILE Swift Interface Startup
	/*
	       ORIG:  BRUN - 16 MAR 1994
	       DESC:  Routine to start neccesary Incoming/Outgoing servers
	        connected to Swift ST400 over DECnet task to task

	  EXT ENTRY:

	  REFERENCE:

	  ----- Revision History ----------------------------------------------

	   09/09/05 - KELLYP - CR 17050
		      Modified entire procedure to no longer reference the ST400
		      interface which has been obsoleted by SWIFT.  No new core 
		      interface for SWIFT is currently available (ICG maintains
		      an SAA interface).  The core linetags have been preserved
		      to allow for an easy transition to another interface at a
		      later time.

           07/26/05 - SkariahV- CR16679
	              Removed #WARN and #OPTIMIZE directives.
	              
	   05/30/03 - SRIVASTAVAN - 51351
		      Converted to PSL
	  ---------------------------------------------------------------------
	*/

	do START
	
	quit
	

START	// Start needed servers, but check if they already exist

	quit


DETACH(String prcnam,String dir)	// Start PROFILE/IBS SWIFT server(s)
	
	/*
	   ARGUMENTS:
	   . prcnam 	Process Name		/REQ/MECH=VAL
	   . dir	Directory		/REQ/MECH=VAL
	   
	   RETURNS:
	   . $$     		

	   EXAMPLE:
	    srvstart=$$DETACH(proc,"IN")	   .
 	*/

	type Public String RM
	type String jobnam
	type Number x

	set jobnam="^SWIFT"_dir
	set x=$$^%ZJOB(jobnam,"PRO="_prcnam)

	// ~p1 submitted
	if x set RM(RM("").order(-1)+1)=$$^MSG(6800,prcnam)

	// ~p1 not submitted
	else  set RM(RM("").order(-1)+1)=$$^MSG(6799,prcnam)
	quit (x)


ERRLOG(String ET)	// Standard error log

	/*
	   ARGUMENT:
	   . ET		Error Type		/REQ/MECH=VAL
	*/
	   
	do ^UTLERR

	quit

   
Public ERRMSG(String et)	// Return error description

	/*
	   ARGUMENT:
	   . et 	Error Type		/REQ/NONULL/MECH=VAL
	*/   

	type String desc

	type RecordSTBLER stbler=Db.getRecord("STBLER","KEY=:et",1)
	set desc=stbler.rm
	if desc.isNull() set desc=et
	quit desc
	

vSIG()	quit "60156^58291^Pat Kelly^1844"	// Signature - LTD^TIME^USER^SIZE
