BTTOPTMZ	// Accrual optimization functions
	/*
	ORIG: russell - 07/26/2004
	DESC: Accrual optimization functions

	---- Comments --------------------------------------------------------
	Provide compiler flag optimization options.  Some of these could be
	provided directly with #IF in BTTDRV.batch, except for existing
	limitations in PSL with #IF.
	
	LIBRARY:
		. $$DAY5BAL	- Save 5 day balance info?
		. $$PACF	- Is profitability analysis used?
		. $$SAVDBDA	- Save daily balance info?
		. $$SEGUSE	- Are segments used?

	---- Revision History ------------------------------------------------
	
	01/05/07 - KUMARB - CR24680
		   Modified section SEGUSE to return an indicator of whether 
		   or not there are any deposit (PRODDFTD) or loan (PRODDFTL)
		   product types that use segments.
	
	02/01/05 - SmithCD - CR13661
		   Made line tags private (to the accruals sub-system) to 
		   avoid compiler errors in BTTDRV, and used #ACCEPT to avoid 
		   informational error on CUVAR reference.
	
	08/16/04 - RussellDS - CR11497
		   Added to Profile04 from Profile01
	
	07/26/02 - RussellDS - CR11283
		   Created.
	
	*/

	quit


private	SEGUSE(String CLS)	// Product Class

	/* 
	  Are segments used? 
	
	  Additional notes on ARGUMENTS: 
	  CLS - "D": Deposits only 
	        "L": Loans only 
	         "": Both deposits and loans 
	*/ 
	
	type Boolean seguse = 0

	if CLS="D"!(CLS.isNull()) do {
		type ResultSet rs=Db.select("TYPE","PRODDFTD","SEGFLG=1")
		if 'rs.isEmpty() set seguse = 1
		}
	
	if CLS="L"!(CLS.isNull()) do {
		type ResultSet rs=Db.select("TYPE","PRODDFTL","SEGMENTS=1")
		if 'rs.isEmpty() set seguse = 1
		}

	quit seguse

private	PACF(String CLS)	// Is profitability analysis used?

	/* ARGUMENTS:
		. CLS		Account class		/REQ/NONUL/MECH=VAL
		
	*/

	type ResultSet rs=Db.select("TYPE","PRODCTL","CLS=:CLS AND PACF=1")

	if rs.isEmpty() quit 0

	quit 1


private	SAVDBDA()	// Save daily balance info?

	type ResultSet rs=Db.select("TYPE","PRODCTL","CLS='D' AND SAVDBDA=1")
 
        if rs.isEmpty() quit 0
 
        quit 1
        

private	DAY5BAL()	// Save 5 day balance info?

	type ResultSet rs=Db.select("TYPE","PRODCTL","CLS='D' AND DAY5BAL>0")
 
        if rs.isEmpty() quit 0
 
        quit 1
 #OPTION ResultClass ON
Public String vSIG()	quit "60677^51340^Balasubramonian Sankar^2091"	// Signature - LTD^TIME^USER^SIZE
