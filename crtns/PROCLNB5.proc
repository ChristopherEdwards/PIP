PROCLNB5		/*
	---------- Revision History ------------------------------------------	
	
	12/20/05 - Hillanbrand - 
	           Corrected UNDEFINED error on the mode variable 
	           occuring at BLSUM+6^PROCLNB1 because by passing 
	           mode in the call to BLSUM^PROCLNB1.

	05/23/05 - KinI - 15524
		   DBI related clean-up.
		   
	11/12/03 - CARROLLJ - 51630
		   Modified parameters being passed to PROCLNB1.

	12/15/99 - CARROLLJ- 31126
		   PSL conversion cleanup.	

	08/31/99 - CARROLLJ - 33890
		   Convert to PSL.

	----------------------------------------------------------------------

	Note:  Tag BLSUM5 is called from procedure LNBIL1 so that DATA-QWIK 
	will resolve the LNBIL5 NEW.xxx and OLD.xxx references.
	
	*/	

	quit


public	BLSUM5(RecordLNBIL5 lnbil5,RecordLNBIL1 lnbil1,mode) 
	
	/*
	  Update pmt record summary from LNBIL5 detail
	  
		Mode    Processing
		------  -----------
		Insert  Update summary columns based on total amounts billed
			and due.
		Update  Update summary columns based on change in amounts due
			and billed.
	*/

	
	// Update summary totals from total amounts due and billed
	if mode="insert" do BLSUM^PROCLNB1(lnbil5.feetyp,lnbil5.bfamt,lnbil5.brfamt,,mode) quit 
	
	// Update summary totals from changes in amounts due and billed
	do BLSUM^PROCLNB1(lnbil5.feetyp,lnbil5.bfamt-lnbil5.bfamt.oldVal,lnbil5.brfamt-lnbil5.brfamt.oldVal,,mode)
	
	quit 
	

vSIG()	quit "60254^57891^Laura Hillanbrand^1345"	// Signature - LTD^TIME^USER^SIZE
