LNAPR2(IRN,ICPF,DIST1AF)  // Netherlands Regulatory APR Calculation
	/*

	---- Revision History ------------------------------------------------
	09/22/99 - SKLYUTD - 28970:004
		   Modified to convert ICPF to annual factor if ICPF defined.
		   Previously incorrect APR was calculated.
		   Also fixed the rounding problem, should be rounded to 1
		   decimal.
	----------------------------------------------------------------------
	*/

	new XICPF,XDISAPR,XIRN,XDIST1AF
	// New APR Calculation formula
	// APR	=((1+IRN/ICPF/100)(to the power of ICF-1) )*100
	set XICPF=$G(ICPF),XIRN=$G(IRN),XDIST1AF=$G(DIST1AF)
	if XICPF'="" do {
		new JD,AF 
		set JD=%SystemDate 
		set JD=$$NJD^UFRE(JD,XICPF,.AF) if ER quit  
		set XICPF=AF
		}

	if ER quit ""

	if XICPF="" set XICPF=$G(XDIST1AF)
	set XDISAPR=((1+(XIRN/XICPF/100))**XICPF-1)*100

	quit $$^SCARND(XDISAPR,0,,,1)

vSIG()	quit "59886^43528^Sanchez SCM Administrator^772"	// Signature - LTD^TIME^USER^SIZE
