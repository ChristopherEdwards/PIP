RCC0CDI	 /*
   ORIG: BURNSM - 09/12/2000
   DESC: Reg CC Aggregate Chk Deposits - CDIs

   ---- Comments --------------------------------------------------------

	LIBRARY:
	 $$REGCCEXC		Reg CC Exception Account

   ---- Revision History ------------------------------------------------

 */

	quit

REGCCEXC(XOPT,XTJD)	// Reg CC Exception Account
	/*
	The function is used to compute [DAYENDRCC0]REGCCEXC field.

	ARGUMENTS:
		OPT	Aggregate Key (ACN or CID)	/TYPE=N/MECH=VAL
		TJD	System Accounting Date		/TYPE=D/MECH=VAL

	RETURNS:
		Reg CC Exception Account
			0 - Not an Exception
			1 - New Account
			2 - Repeated Overdrafts

	EXAMPLE:
		$$REGCCEXC^RCC0CDI(OPT,TJD)
	*/

	new XREGCCEXC,XREGCCOPT

	set XREGCCEXC=""
	set XREGCCOPT=Db.getOneRow("REGCCOPT","CUVAR")
	if XREGCCOPT=0 set XREGCCEXC=Db.getOneRow("REGCCEXC","DEP","XOPT")

	quit XREGCCEXC

vSIG()	quit "59886^43599^Sanchez SCM Administrator^803"	// Signature - LTD^TIME^USER^SIZE
