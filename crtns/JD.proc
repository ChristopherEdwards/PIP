JD	// Utility to display string date from julian input
	/*
	   Interactive SCA utility to return julian and string dates for
	   date(s) entered in either format.

	  ---- Revision History ------------------------------------------------

	  06/29/06 - TITOVE - CR 21979
	  	     Modified to conform to standards and ensure dates will
	  	     be displayed both in Julian and string format.

	  11/21/05 - ALAGARSS - 16677
	             Modified the section EXEC to turn function replacement off for 
	             the function call $$^SCAJD().

	*/

	// I18N=QUIT: Excluded from I18N standards.

	type String %DS
	
	for  do EXEC quit:%DS.isNull()
	
	quit


EXEC
	type public String %DS

	type Boolean ER = 0
	type Date %JD
	type String BD, DY, RM, SD

	write !?6,"Date:  " read %DS if %DS.isNull() quit
	
	#OPTIMIZE FUNCTIONS OFF
	
	set %JD = $$^SCAJD(%DS,"MM/DD/YEAR")
	
	// Format error
	if ER set RM = $$^MSG(5030) write ?25,RM quit 

	set SD = %JD.toString("MM-DD-YEAR")
	
	set DY = %JD#7
	
	set DY = $select(DY=1:"Friday",DY=2:"Saturday",DY=3:"Sunday",DY=4:"Monday",DY=5:"Tuesday",DY=6:"Wednesday",DY=0:"Thursday")
	
	set BD = $select($$BD^UNBD(%JD):"Business Date",1:"Non-Business Date")

	write ?29,%JD
	write ?36,SD
	write ?47,DY
	write ?58,BD

	quit

vSIG()	quit "60445^41539^Eugene Titov^1150"	// Signature - LTD^TIME^USER^SIZE
