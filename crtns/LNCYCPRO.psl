LNCYCPRO	
  /*
ORIG: HILLANBRAND - 08/02/2000
DESC: Add-On Cycle Items Financed Calculation

---- Comments --------------------------------------------------------

        This procedure is used to recalculate the payment and disclosure
        information with the addition of the add-on items that are financed.

        CALLED BY: After Insert Triggers LNCYCMSC, LNCYCINS, LNCYCDLD,
                   and LNCYCPTS.


---- Revision History ------------------------------------------------
	
	10/10/06 - NATRAJAH - CR23054
		   Modified PROC section, removed the ins() array 
		   from the RPC^LNNEW10 call argument list.
		   
	09/10/05 - Satyanas - CR16994
		   Modified the Code to PSL standards and 
		   remove the unscoped warnings.
	
	09/24/03 - CARROLLJ - 51630
		   Modified PROC section to remove toArray method.

   	04/30/02 - JERUCHIMC - 49370
                   Set AuditFlag for ln.  This allows the modified values of
                   LN to later be recognized as changed columns in the filer.
	
	10/16/00 - MAGERAM - 41242
		   The local variables used in this procedure were new'd.
	
	09/01/00 - HILLANBRAND - ARQ41242
		   Converted to PSL
		
 */

        quit    // Dummy quit for compiler

PROC(RecordLN ln)
        
	type String in(),out(),PCMVAL 
	
	do ln.setAuditFlag(1)

	set PCMVAL=$$PCMVAL^LNCDI(ln.pcm)

	set in("AMBAS")=ln.ambas
	set in("AMODT")=ln.amodt
	set in("AMTREQ")=ln.amtreq
	set in("APRAPP")=ln.aprapp
	set in("APRMTHD")=ln.aprmthd
	set in("BALLAMT")=ln.ballamt
	set in("BLOFF")=ln.bloff
	set in("CAF")=ln.caf
	set in("CID")=ln.cid
	set in("COMFA")=ln.comfa
	set in("COMFP")=ln.comfp
	set in("CRCD")=ln.crcd
	set in("CRLMT")=ln.crlmt
	set in("DFP")=ln.dfp
	set in("DISMIP")=ln.dismip
	set in("DISPMP")=ln.dispmp
	set in("DISPPI")=ln.disppi
	set in("DIST1FRE")=ln.dist1fre
	set in("DIST1ND")=ln.dist1nd
	set in("DIST2FRE")=ln.dist2fre
	set in("DIST2ND")=ln.dist2nd
	set in("DIST3FRE")=ln.dist3fre
	set in("DIST3ND")=ln.dist3nd
	set in("DIST4FRE")=ln.dist4fre
	set in("DIST4ND")=ln.dist4nd
	set in("DISTPMT")=ln.distpmt
	set in("FIA")=ln.fia
	set in("FPA")=ln.fpa
	set in("IACM")=ln.iacm
	set in("IAM")=ln.iam
	set in("ICPF")=ln.icpf
	set in("IDGP")=ln.idgp
	set in("IDPF")=ln.idpf
	set in("IRN")=ln.irn
	set in("IRO")=ln.iro
	set in("IUN")=ln.iun
	set in("MDT")=ln.mdt
	set in("NUMCH")=ln.numch
	set in("ODD")=ln.odd
	set in("ONP")=ln.onp
	set in("ORGFA")=ln.orgfa
	set in("ORGFP")=ln.orgfp
	set in("PCFRE")=ln.pcfre
	set in("PCHM")=ln.pchm
	set in("PCM")=ln.pcm
	set in("PIACM")=ln.piacm
	set in("PLDF")=ln.pldf
	set in("PMTPI")=""
	set in("PMTDIST")=ln.pmtdist
	set in("PMTDISTF")=ln.pmtdistf
	set in("PMTTRS")=ln.pmttrs
	set in("PPINC")=ln.ppinc
	set in("PTRM")=ln.ptrm
	set in("ROPT")=ln.ropt
	set in("SCHLD")=ln.schld
	set in("SLDTD")=ln.sldtd
	set in("TRM")=ln.trm
	set in("TYPE")=ln.type
 
	do RPC^LNNEW10(.in,,,,.out)
 
	set ln.disapr=out("DISAPR").get()
	set ln.distint=out("DISTINT").get()
	set ln.distpmt=out("DISTPMT").get()
	set ln.disamf=out("DISAMF").get()
	set ln.disppid=out("DISPPID").get()
	set ln.disppi=out("DISPPI").get()
	set ln.dispmp=out("DISPMP").get()
	set ln.dismip=out("DISMIP").get()
	set ln.pmtpi=out("PMTPI").get()
	set ln.pmt=out("PMT").get()
	set ln.pmtorg=ln.pmtpi
	set ln.anpto=ln.pmtpi
 
	quit
 #OPTION ResultClass ON
Public String vSIG()	quit "60548^46114^Hari Natrajan^3140"	// Signature - LTD^TIME^USER^SIZE
