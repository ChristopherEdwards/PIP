MRPC016(return,versn,CID,%EffectiveDate)	//Public; Payoff Fees Support Status
	/*
	   This extrinsic function returns the results of the Loan Payoff
	   Fees Support Status

	   [SCATBL5]RPCID=16

	   KEYWORDS: Client/Server, Loans, Loan Fees, Payoff, Reports, RPC

	   ARGUMENTS:
	       . return   Payoff Fee Detail  		/TYP=T/REQ
							/MECH=REFNAM:W

	       . versn    ^MRPC016 version number  	/TYP=N/REQ
	    		  Current version = 1  	   	/MECH=VAL

	       . CID      Account number   		/TYP=N/REQ
	        					/MECH=VAL

	       . EFD  	  Effective Date   		/TYP=D/REQ
	        					/MECH=VAL

	   RETURNS:
	       . $$ 	  Error message   		/TYP=T
	    		  Null = No error

	   RELATED:
	       . $$^PBSMRPC - MRPC Service Class Driver

	   EXAMPLES:

	   	S RM=$$^MRPC016(.val,1,CID,EFD)

	 ---- Revision History ------------------------------------------------
	 04/01/02 - VETSENM - 49794
                    Converted to PSL.

	*/

	// Version number of client message is not compatible with server
	if $G(versn)'=1 quit $$ERRMSG^PBSUTL($$^MSG(2951))

	// Invalid account ~p1
	if 'Db.isDefined("ACN","CID") quit $$ERRMSG^PBSUTL($$^MSG(1259))

	new FEE,N,POFEE,UTBL,XPOFEE

	set return=""
	do LOAD^LNPO3
	if $G(ER) quit $$ERRMSG^PBSUTL($G(RM),$G(ET))

	//Format output,Total Fee Due
	set return=POFEE_$C(9)
	set N=""
	for  set N=$O(POFEE(N)) quit:N=""  do {
		//Change "|" to TAB
		set POFEE(N)=$TR(POFEE(N),"|",$C(9))
		set return=return_POFEE(N)_$C(13,10)
		}
	set return=$$V2LV^MSG(return)
	quit ""

vSIG()	quit "59886^43582^Sanchez SCM Administrator^1377"	// Signature - LTD^TIME^USER^SIZE
