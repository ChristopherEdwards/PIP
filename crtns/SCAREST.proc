public SCAREST
  	/*
	 ORIG: kellyp - 03/21/2005
	 DESC: Restrict Menu Access

	 ---- Comments --------------------------------------------------------
	  
	  Used for setting CUVAR.RESTRICT which is protected on the CUVARMGR1
	  screen.  This flag is used to protect IBS menu access from non-MGR
	  and non-SCA users.
	  
	 ---- Revision History ------------------------------------------------

	  03/21/05 - KELLYP - CR 13666
	  	Converted to PSL.

 	*/
	
	type Public String ER,RM
	
	type Boolean RESTRICT
	type String %READ,%TAB(),VFMQ

	set %ProcessMode=1

	set %TAB("RESTRICT")=".RESTRICT1/HLP=[CUVAR]RESTRICT"
	set RESTRICT=CUVAR.restrict
 	
	set %READ="@@%FN,,,RESTRICT/REQ"
 	
	do ^UTLREAD
 	
	if VFMQ="Q" quit
 	
 	type RecordCUVAR cuvar=Db.getRecord("CUVAR")

 	set cuvar.restrict=RESTRICT

	do cuvar.save()
 	
	// Menu restriction turned on
	if RESTRICT set RM=$$^MSG(1707)
	// Menu restriction turned off
	else  set RM=$$^MSG(1706)

	set ER="W"

	quit

vSIG()	quit "59982^36128^Pat Kelly^904"	// Signature - LTD^TIME^USER^SIZE
