COLCDI		/*
          ORIG: BURNSM - 07/21/00
          DESC: Collateral File - CDIs
         
         
          LIBRARY:
                . $$CSZ                 - City, State Zip
                . $$MCSZ                - City, State Country Zip
         
               Revision History

          08/08/00 - BURNSM - 41021
		     Converted procedure code to PSL.	
	*/

	quit

CSZ(XCOLL)      // Returns City, State Zip value
	/*         
	  The function is used to concatenate the [COL]CSZ field.
        
          ARGUMENTS:
          . XCOLL               Sequence Number         /TYP=N/REQ
        
          RETURNS:
          $$ City, State Zip                    /TYP=T
        
          EXAMPLE:
          W $$CSZ^COLCDI(100)

	*/

        new CITY,STATE,X,ZIP
        
        set X=Db.getOneRow("CITY,STATE,MZIP","COL","XCOLL")
        set CITY=$E($P(X,$C(9),1),1,25)
        set STATE=$P(X,$C(9),2)
        set ZIP=$P(X,$C(9),3)
        quit CITY_", "_STATE_" "_ZIP
        
MCSZ(XCOLL)      // Returns City, State Country Zip value
	/*
          The function is used to concatenate the [COL]MCSZ field.
        
          ARGUMENTS:
          . XCOLL               Sequence Number         /TYP=N/REQ
        
          RETURNS:
          $$ City, State Country Zip            /TYP=T
        
          EXAMPLE:
          W $$MCSZ^COLCDI(100)
        */

        new CITY,STATE,CNTRY,X,ZIP
        
        set X=Db.getOneRow("CITY,STATE,CNTRY,MZIP","COL","XCOLL")
        set CITY=$E($P(X,$C(9),1),1,25)
        set STATE=$P(X,$C(9),2)
        set CNTRY=$P(X,$C(9),3)
        set ZIP=$P(X,$C(9),4)
        if CNTRY="US" quit CITY_", "_STATE_" "_ZIP
        quit CITY_", "_STATE_" "_CNTRY_" "_ZIP
        

vSIG()	quit "59886^43498^Sanchez SCM Administrator^1647"	// Signature - LTD^TIME^USER^SIZE
