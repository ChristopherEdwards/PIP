MRPC060(String return,Number versn,Number cid,String INV,String POOL,Number percent)	//Public;Pending Loan Sale Check
	/*
	   ORIG: GORMAN - 06/17/97
	   DESC: Pending Loan Sale Account Verification

	   KEYWORDS:

	   ARGUMENTS:
	   . return 		Always null.  Routine  	/TYP=T/MECH=REF
	     			does not return anything
	     			other than extrinsic
	     			success ("") or failure
	     			(return message).

	   . versn  		MRPC060 version   	/TYP=N/MECH=VAL
	     			Current version is 1.  	/REQ

	   . cid  		Account number   	/TYP=N
							/REQ
	
	   . INV  		Investor   		/TYP=T/MECH=VAL
	         					/REQ

	   . POOL  		Pool    		/TYP=T/MECH=VAL
	         					/REQ

	   . percent 		Percent Sold   		/TYP=D/MECH=VAL
	     			Conditionally required if
	     			Investor and pool LNLS2
	     			record does not exist, or if
	     			the percentage differs from
	     			value found in LNLS2 record.


	   RETURNS:
	   . $$  		Error message   	/TYP=T
	     			Null = no error


	   RELATED:

	
	------------------ Revision History ----------------------------------
      
        07/26/05 - SkariahV- CR16679
	           Removed #WARN directive.
	
	01/10/03 - GRAY - 51351
		   Converted to PSL.

	*/


	type Public Number ER
	type Public String ET,RM

	// Version number of client message is not compatible with server
	if versn.get()'=1 quit $$ERRMSG^PBSUTL($$^MSG(2951))

	type RecordLN ln=Db.getRecord("LN","CID=:cid",1)
	
	// Invalid account number
	if ln.getMode()=0 quit $$ERRMSG^PBSUTL($$^MSG(7774))

	// Invalid input
	if 'percent.get() do { quit:ER $$ERRMSG^PBSUTL($$^MSG(1379))

		if INV.get()=""!(POOL.get()="") set ER=1 quit

		type RecordLNLS2 lnls2=Db.getRecord("LNLS2","INCD=:INV,PL=:POOL")
		set percent=lnls2.pp

		if 'percent.get() set ER=1 quit
		}

	do PP^PROLNLS4(cid,percent)

	if ER quit $$ERRMSG^PBSUTL(RM.get(),ET.get())

	quit ""
 #OPTION ResultClass ON
Public String vSIG()	quit "60107^17766^Viji Skariah^1666"	// Signature - LTD^TIME^USER^SIZE
